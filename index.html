<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å›å£°æƒ…æ„Ÿæ½œæ„è¯†æ·±åº¦è¯„ä¼°</title>
    <style>
        /* --- 1. è§†è§‰åŸºè°ƒï¼šæ·±æ¸Šé•œåƒ --- */
        body {
            margin: 0;
            padding: 0;
            background-color: #050505;
            background-image: linear-gradient(180deg, rgba(15,15,25,1) 0%, rgba(5,5,10,1) 100%);
            color: #e0e0e0;
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .aurora {
            position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(118, 75, 162, 0.15), transparent 60%),
                        radial-gradient(circle, rgba(102, 126, 234, 0.1), transparent 50%);
            animation: rotate 40s linear infinite;
            z-index: 0; pointer-events: none;
        }
        @keyframes rotate { from {transform: rotate(0deg);} to {transform: rotate(360deg);} }

        .glass-box {
            position: relative; z-index: 10;
            width: 100%; max-width: 450px; min-height: 100vh;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            display: flex; flex-direction: column;
            padding: 24px; box-sizing: border-box;
            border-left: 1px solid rgba(255,255,255,0.03);
            border-right: 1px solid rgba(255,255,255,0.03);
        }

        /* --- 2. é¦–é¡µæ ¸å¿ƒ --- */
        h1 { font-size: 26px; font-weight: 600; text-align: center; margin: 40px 0 10px 0; color: #fff; letter-spacing: 2px; text-shadow: 0 0 10px rgba(161,140,209,0.3); }
        .subtitle { font-size: 13px; color: #888; text-align: center; line-height: 1.6; margin-bottom: 20px; }

        .pulse-container {
            position: relative; width: 100%; height: 120px; display: flex; 
            justify-content: center; align-items: center; margin: 30px 0;
            flex-direction: column;
        }
        .pulse-circle {
            width: 12px; height: 12px; background: #a18cd1; border-radius: 50%;
            box-shadow: 0 0 0 0 rgba(161, 140, 209, 0.7);
            animation: pulse-purple 2s infinite;
        }
        @keyframes pulse-purple {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(161, 140, 209, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 20px rgba(161, 140, 209, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(161, 140, 209, 0); }
        }
        .pulse-text {
            margin-top: 30px; font-size: 14px; color: #ccc; letter-spacing: 1px;
            font-weight: 300; opacity: 0.8; animation: fadeText 4s infinite;
        }
        @keyframes fadeText { 0%,100%{opacity:0.5;} 50%{opacity:1;} }

        .citation-box {
            background: rgba(0,0,0,0.2); padding: 15px; border-radius: 12px;
            margin: 20px 0; border: 1px solid rgba(255,255,255,0.05);
        }
        .cite-title { font-size: 10px; color: #666; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; font-weight: bold; }
        .cite-item { font-size: 11px; color: #999; margin-bottom: 5px; display: flex; align-items: center; }
        .cite-item::before { content: "â€¢"; color: #a18cd1; margin-right: 6px; }

        .footer-compliance {
            margin-top: auto; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.05);
            font-size: 10px; color: #555; text-align: justify; line-height: 1.5;
        }

        /* --- 3. æŒ‰é’®ä¸äº¤äº’ --- */
        .btn-main {
            background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
            border: none; color: #222; font-weight: 700;
            padding: 16px; border-radius: 30px; font-size: 16px; width: 100%;
            cursor: pointer; margin-top: 10px;
            box-shadow: 0 8px 25px rgba(161, 140, 209, 0.25);
            transition: transform 0.1s;
        }
        .btn-main:active { transform: scale(0.98); }

        .btn-back {
            background: transparent; border: 1px solid rgba(255,255,255,0.1);
            color: #999; padding: 6px 14px; border-radius: 20px; font-size: 12px;
            cursor: pointer; display: inline-block; margin-bottom: 20px; width: fit-content;
        }
        .hidden { display: none; }

        .progress-bar { height: 3px; background: rgba(255,255,255,0.1); margin-bottom: 30px; border-radius: 2px; }
        .progress-fill { height: 100%; background: #a18cd1; width: 0%; transition: width 0.3s; }

        .question-text { font-size: 19px; line-height: 1.6; font-weight: 500; margin-bottom: 30px; min-height: 60px; color: #fff; }

        .option {
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255,255,255,0.05);
            padding: 18px 16px; margin-bottom: 12px; border-radius: 12px;
            font-size: 15px; color: #ddd; cursor: pointer; transition: all 0.2s;
            display: flex; justify-content: space-between; align-items: center;
        }
        .option:active { background: rgba(255,255,255,0.1); transform: scale(0.99); }
        .option.selected { background: rgba(161, 140, 209, 0.15); border-color: #a18cd1; color: #fbc2eb; }

        .narrator { 
            text-align: center; font-size: 13px; color: #fbc2eb; font-style: italic; 
            margin-top: 30px; min-height: 20px; opacity: 0; transition: opacity 0.5s; 
        }

        /* --- 4. ç»“æœé¡µ & å•†æ ‡æ°´å° --- */
        
        /* é¡¶éƒ¨å®éªŒå®¤æ°´å° */
        .report-header {
            display: flex; justify-content: space-between; align-items: flex-end;
            margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .brand-watermark { font-size: 10px; color: #777; font-family: monospace; letter-spacing: 0.5px; }
        .report-id { font-size: 10px; color: #666; font-family: monospace; }

        .result-card {
            background: rgba(0,0,0,0.25); border-radius: 16px; padding: 25px;
            border: 1px solid rgba(255,255,255,0.06); margin-bottom: 20px;
        }
        
        .score-display { text-align: center; margin-bottom: 10px; }
        .score-num { font-size: 52px; font-weight: 700; color: #e0c3fc; text-shadow: 0 0 25px rgba(161, 140, 209, 0.4); }
        .score-label { font-size: 12px; color: #aaa; letter-spacing: 2px; margin-top: 5px; text-transform: uppercase; }

        .res-title { font-size: 20px; font-weight: bold; text-align: center; color: #fff; margin-bottom: 25px; }

        .data-viz-box {
            margin: 20px 0 30px 0; padding: 20px; background: rgba(0,0,0,0.3);
            border-radius: 12px; border: 1px solid rgba(255,255,255,0.03);
        }
        .viz-row { display: flex; align-items: center; margin-bottom: 12px; }
        .viz-label { width: 60px; font-size: 11px; color: #aaa; text-align: right; margin-right: 12px; }
        .viz-track { flex: 1; height: 6px; background: rgba(255,255,255,0.08); border-radius: 3px; overflow: hidden; }
        .viz-bar { height: 100%; background: linear-gradient(90deg, #e0c3fc, #fbc2eb); width: 0%; border-radius: 3px; transition: width 1.5s ease-out; }
        .viz-val { width: 25px; font-size: 12px; color: #fff; margin-left: 10px; text-align: right; }
        
        .analysis-section { margin-bottom: 30px; }
        .sec-title { 
            font-size: 15px; color: #fbc2eb; margin-bottom: 12px; font-weight: bold; 
            display: flex; align-items: center;
        }
        .sec-title::before { content: ''; width: 4px; height: 16px; background: #fbc2eb; margin-right: 10px; border-radius: 2px; }
        .sec-content { font-size: 14px; line-height: 1.8; color: #ccc; text-align: justify; }

        .privacy-tip {
            background: rgba(255,255,255,0.03); padding: 15px; border-radius: 12px;
            text-align: center; border: 1px dashed rgba(255,255,255,0.1); margin-top: 20px;
        }
        .privacy-title { font-size: 12px; color: #fff; font-weight: bold; margin-bottom: 5px; }
        .privacy-desc { font-size: 11px; color: #777; margin-bottom: 10px; }
        
        /* åº•éƒ¨ç¡¬æ ¸é˜²ç›—æ°´å° */
        .bottom-watermark { font-size: 9px; color: #555; font-family: monospace; margin-top: 8px; }

        .page { display: none; animation: fadeIn 0.5s; }
        .page.active { display: block; }
        @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }

        .spinner { width: 32px; height: 32px; border: 2px solid rgba(255,255,255,0.1); border-top-color: #a18cd1; border-radius: 50%; animation: spin 0.8s infinite linear; margin: 0 auto 20px auto; }
        @keyframes spin { to { transform: rotate(360deg); } }

    </style>
</head>
<body>

<div class="aurora"></div>

<div class="glass-box">
    
    <div id="p-home" class="page active">
        <h1>å›å£°æƒ…æ„Ÿæ½œæ„è¯†æ·±åº¦è¯„ä¼°</h1>
        <p class="subtitle">
            å‰¥å¼€æƒ…ç»ªè¿·é›¾ï¼Œçœ‹æ¸…å…³ç³»æœ¬è´¨ã€‚<br>
            Powered by å›å£°å¿ƒç†åŠ¨åŠ›å®éªŒå®¤
        </p>

        <div class="pulse-container">
            <div class="pulse-circle"></div>
            <div class="pulse-text" id="pulse-text">ä»–çœŸçš„æ”¾ä¸‹äº†å—ï¼Ÿ</div>
        </div>

        <div class="citation-box">
            <div class="cite-title">Model Reference / ç†è®ºæ¨¡å‹å¼•ç”¨</div>
            <div class="cite-item">Sternberg's Triangular Theory (æ–¯è…¾ä¼¯æ ¼ä¸‰è§’)</div>
            <div class="cite-item">Adult Attachment Scale (æˆäººä¾æ‹é‡è¡¨)</div>
            <div class="cite-item">Subconscious Projection (æ½œæ„è¯†æŠ•å°„)</div>
        </div>

        <button class="btn-main" onclick="startTest()">è¿›å…¥æ½œæ„è¯†è¯„ä¼° (å…±12é¢˜)</button>
        <p style="text-align:center; font-size:11px; color:#555; margin-top:15px;">æœ¬å‘¨å·²æœ‰ 41,092 äººè·å–å›å£°æŠ¥å‘Š</p>

        <div class="footer-compliance">
            <p><strong>ã€æµ‹è¯„è¯´æ˜ã€‘</strong></p>
            <p>1. æœ¬ç³»ç»Ÿä¾æ®å¿ƒç†å­¦æ¦‚ç‡æ¨¡å‹è¿ç®—ï¼Œç»“æœä»…ä¾›æƒ…æ„Ÿå‚è€ƒã€‚</p>
            <p>2. æŠ¥å‘Šä¸æ¶‰åŠå°å»ºè¿·ä¿¡ï¼Œä¸æä¾›å¿ƒç†æ²»ç–—å»ºè®®ï¼Œä¸æ‰¿è¯ºç‰¹å®šç»“æœã€‚</p>
            <p>3. ä¸ºä¿æŠ¤éšç§ï¼Œæœ¬é¡µä¸å¼€å¯æœåŠ¡å™¨å­˜å‚¨ï¼Œè¯·è‡ªè¡Œä¿å­˜ç»“æœã€‚</p>
        </div>
    </div>

    <div id="p-quiz" class="page">
        <button id="btn-back" class="btn-back hidden" onclick="goBack()">â€¹ ä¸Šä¸€é¢˜</button>
        <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        <div class="question-text" id="q-text">...</div>
        <div id="options-box"></div>
        <div id="narrator" class="narrator"></div>
    </div>

    <div id="p-loading" class="page">
        <div style="text-align: center; margin-top: 40vh; transform: translateY(-50%);">
            <div class="spinner"></div>
            <p id="loading-msg" style="color:#aaa; font-size:12px; letter-spacing: 1px;">å›å£°å¼•æ“æ­£åœ¨å»ºç«‹è¿æ¥...</p>
        </div>
    </div>

    <div id="p-result" class="page">
        
        <div class="report-header">
            <span class="brand-watermark">PWR BY: å›å£°å¿ƒç†å®éªŒå®¤</span>
            <span class="report-id" id="report-id">ID: --</span>
        </div>

        <div class="result-card">
            <div class="score-display">
                <div class="score-num" id="res-score">--%</div>
                <div class="score-label">æƒ…æ„Ÿå¤è‹æ¦‚ç‡</div>
            </div>
            <div class="res-title" id="res-title">...</div>

            <div class="data-viz-box" id="data-viz">
                </div>

            <div class="analysis-section">
                <div class="sec-title">ğŸ”® æ ¸å¿ƒå…³ç³»ç—‡ç»“</div>
                <div class="sec-content" id="res-core">...</div>
            </div>

            <div class="analysis-section">
                <div class="sec-title">ğŸ§  ä»–çš„æ½œæ„è¯†ç”»åƒ</div>
                <div class="sec-content" id="res-him">...</div>
            </div>

            <div class="analysis-section">
                <div class="sec-title">âš–ï¸ èƒ½é‡åœºä¸æ–­è”é˜¶æ®µ</div>
                <div class="sec-content" id="res-stage">...</div>
            </div>

            <div class="analysis-section">
                <div class="sec-title">ğŸ§­ é«˜ç»´ç ´å±€å»ºè®®</div>
                <div class="sec-content" id="res-advice">...</div>
            </div>
        </div>

        <div class="privacy-tip">
            <div class="privacy-title">ğŸ”’ éšç§å®‰å…¨æç¤º</div>
            <div class="privacy-desc">æœ¬é¡µå†…å®¹ä»…åœ¨æœ¬åœ°ç”Ÿæˆï¼ŒæœåŠ¡å™¨ä¸ç•™æ¡£ã€‚<br>å»ºè®®<strong>æˆªå›¾ä¿å­˜</strong>ï¼Œä½œä¸ºåç»­å¤ç›˜ä¾æ®ã€‚</div>
            <div class="bottom-watermark">Â© 2026 å›å£°å¿ƒç† (Echo Psych) ç‹¬å®¶æ¼”ç®—</div>
        </div>

        <button style="background:transparent; border:1px solid rgba(255,255,255,0.2); color:#777; padding:8px 20px; border-radius:20px; font-size:12px; margin: 30px auto 0 auto; display:block;" onclick="location.reload()">
            é‡æ–°è¯„ä¼°
        </button>
    </div>

</div>

<script>
    // --- è½®æ’­æ–‡æ¡ˆ ---
    const pulseTexts = ["ä»–çœŸçš„æ”¾ä¸‹äº†å—ï¼Ÿ", "ä½ ä»¬è¿˜æœ‰æœºä¼šå—ï¼Ÿ", "ä»–ç°åœ¨åœ¨æƒ³ä»€ä¹ˆï¼Ÿ", "è¿™æ˜¯å‡æ€§åˆ†æ‰‹å—ï¼Ÿ"];
    let textIndex = 0;
    setInterval(() => {
        textIndex = (textIndex + 1) % pulseTexts.length;
        document.getElementById('pulse-text').innerText = pulseTexts[textIndex];
    }, 3500);

    // --- 12é“é¢˜ç›® ---
    const questions = [
        { q: "1. æŠ›å¼€äº‰åµçš„å†…å®¹ï¼Œä½ ä»¬å†²çªæ—¶çš„â€œè¡Œä¸ºæ¨¡å¼â€æ›´åƒï¼Ÿ", options: [
            {t:"æ¿€çƒˆçš„è¿½é€ï¼šä¸€æ–¹æ‹¼å‘½è§£é‡Šï¼Œä¸€æ–¹æ‹¼å‘½é€ƒé¿", s:4, n:"è¿™æ˜¯å…¸å‹çš„â€œç„¦è™‘-å›é¿â€é™·é˜±ã€‚"}, 
            {t:"å†·æš´åŠ›çš„å¢™ï¼šæ­»å¯‚ä¸€èˆ¬çš„æ²‰é»˜ï¼Œè°ä¹Ÿä¸ä½å¤´", s:-3, n:"æ²‰é»˜æ˜¯æ‰¼æ€äº²å¯†å…³ç³»çš„å¤´å·æ€æ‰‹ã€‚"}, 
            {t:"æƒ…ç»ªçš„å®£æ³„ï¼šäº’æ”¾ç‹ è¯ï¼Œæ€ä¹ˆä¼¤äººæ€ä¹ˆè¯´", s:2, n:"æœ‰æƒ…ç»ªï¼Œè¯´æ˜è¿˜åœ¨ä¹ï¼Œåªæ˜¯æ–¹æ³•é”™äº†ã€‚"}, 
            {t:"ç†æ€§çš„ç–ç¦»ï¼šå¾ˆå®¢æ°”ï¼Œåƒåœ¨å’ŒåŒäº‹è°ˆåˆ¤", s:-2, n:"å¤ªç†æ™ºï¼Œæœ‰æ—¶å€™æ˜¯å› ä¸ºå¿ƒå†·äº†ã€‚"}
        ]},
        { q: "2. é—­ä¸Šçœ¼å‡­ç›´è§‰é€‰ï¼šç°åœ¨çš„ä»–ï¼Œæ›´åƒä»€ä¹ˆçŠ¶æ€ï¼Ÿ", options: [
            {t:"å—ä¼¤çš„åˆºçŒ¬ï¼šèº²èµ·æ¥ï¼Œè°é è¿‘å°±æ‰è°", s:1, n:"ä»–åœ¨é˜²å¾¡ï¼Œä¹Ÿåœ¨è‡ªæˆ‘ä¿æŠ¤ã€‚"}, 
            {t:"æ–­çº¿çš„é£ç­ï¼šå½»åº•è‡ªç”±ï¼Œæ‰¾ä¸åˆ°è¸ªè¿¹", s:-5, n:"å¤±æ§æ„Ÿï¼Œæ˜¯ä½ ç—›è‹¦çš„æ ¹æºã€‚"}, 
            {t:"çŠ¹è±«çš„è§‚å¯Ÿè€…ï¼šæƒ³èµ°åˆå›å¤´çœ‹", s:5, n:"ä»–åœ¨ç­‰ä¸€ä¸ªå°é˜¶ï¼Œæˆ–è€…ä¸€ä¸ªç†ç”±ã€‚"}
        ]},
        { q: "3. å¯¼è‡´ä½ ä»¬åˆ†å¼€çš„â€œæœ€åä¸€æ ¹ç¨»è‰â€æ˜¯ï¼Ÿ", options: [
            {t:"ç´¯ç§¯çš„å¤±æœ›ï¼šè¯´è¿‡å¾ˆå¤šæ¬¡ä½†ä»–ä¸æ”¹", s:-2, n:"å¤±æœ›æ”’å¤Ÿäº†ï¼Œç¦»å¼€æ˜¯æ‚„æ— å£°æ¯çš„ã€‚"}, 
            {t:"çªå‘çš„æƒ…ç»ªï¼šè¯èµ¶è¯ï¼Œä¸€æ—¶å†²åŠ¨", s:6, n:"å†²åŠ¨åˆ†æ‰‹çš„èƒŒåï¼Œå¾€å¾€æ˜¯æœªè¢«æ»¡è¶³çš„éœ€æ±‚ã€‚"}, 
            {t:"ç°å®çš„å‹åŠ›ï¼šå¼‚åœ°/çˆ¶æ¯/ç»æµ", s:0, n:"æœ‰æ—¶å€™æ‰“è´¥çˆ±æƒ…çš„ï¼ŒçœŸçš„ä¸æ˜¯ä¸çˆ±äº†ã€‚"}, 
            {t:"åŸåˆ™æ€§é—®é¢˜ï¼šæ¬ºéª—/èƒŒå›", s:-10, n:"æœ‰äº›è£‚ç—•ï¼Œæ˜¯è¡¥ä¸å›æ¥çš„ã€‚"}
        ]},
        { q: "4. ä½ æœ€è¿‘ä¸€æ¬¡è”ç³»ä»–ï¼ˆæˆ–è€…æƒ³è”ç³»ä»–ï¼‰æ—¶ï¼Œä»–çš„ååº”æ˜¯ï¼Ÿ", options: [
            {t:"ç§’å›ï¼Œæˆ–è€…è¯­æ°”æœ‰æ³¢åŠ¨", s:5, n:"æ½œæ„è¯†éª—ä¸äº†äººï¼Œä»–è¿˜åœ¨å…³æ³¨ä½ ã€‚"}, 
            {t:"å¾ˆä¹…æ‰å›ï¼Œå®¢æ°”å¾—åƒé™Œç”Ÿäºº", s:-2, n:"å®¢æ°”ï¼Œæ˜¯ä»–åœ¨åˆ»æ„åˆ’æ¸…ç•Œé™ã€‚"}, 
            {t:"å®Œå…¨ä¸å›ï¼ŒçŸ³æ²‰å¤§æµ·", s:-5, n:"ä¸æ‰“æ‰°ï¼Œæ˜¯ä»–ç°åœ¨çš„è¯‰æ±‚ã€‚"}, 
            {t:"æ²¡æ•¢è”ç³»ï¼Œä¸€ç›´åœ¨è§†å¥¸", s:1, n:"ä½ åœ¨ç­‰ä¸€ä¸ªä¿¡å·ï¼Œä»–åœ¨ç­‰ä¸€ä¸ªå°é˜¶ã€‚"}
        ]},
        { q: "5. åœ¨è¿™æ®µå…³ç³»é‡Œï¼Œè°æŠ•å…¥çš„â€œæƒ…ç»ªæˆæœ¬â€æ›´å¤šï¼Ÿ", options: [
            {t:"æˆ‘æ›´å¤šï¼Œæˆ‘çš„å–œæ€’å“€ä¹è¢«ä»–ç‰µç€èµ°", s:-3, n:"è¿‡åº¦ä¾èµ–ï¼Œä¼šè®©çˆ±å˜æˆè´Ÿæ‹…ã€‚"}, 
            {t:"ä»–æ›´å¤šï¼Œä»–ä»¥å‰å¾ˆå® æˆ‘", s:3, n:"ä»–ä¾ç„¶è®°å¾—é‚£ç§ä»˜å‡ºçš„æƒ¯æ€§ã€‚"}, 
            {t:"åŠ¿å‡åŠ›æ•Œï¼Œäº’ç›¸æ”¯æ’‘", s:5, n:"è¿™ç§è¿æ¥ï¼Œä¸å®¹æ˜“è½»æ˜“æ–­è£‚ã€‚"}
        ]},
        { q: "6. å¦‚æœä½ ä»¬å¶ç„¶åœ¨è¡—è§’é‡åˆ°ï¼Œä½ ç›´è§‰ä»–ä¼šï¼Ÿ", options: [
            {t:"å‡è£…æ²¡çœ‹è§ï¼Œä½å¤´å¿«èµ°", s:-2, n:"å›é¿è§†çº¿ï¼Œå¾€å¾€æ˜¯å› ä¸ºå†…å¿ƒæœ‰æ„§æˆ–æœ‰ç—›ã€‚"}, 
            {t:"çœ¼ç¥å¤æ‚åœ°çœ‹ä½ ä¸€çœ¼ï¼Œæ¬²è¨€åˆæ­¢", s:4, n:"çœ¼ç›æ˜¯éª—ä¸äº†äººçš„ï¼Œé‚£é‡Œè—ç€æ½œæ„è¯†ã€‚"}, 
            {t:"å¤§æ–¹æ‰“æ‹›å‘¼ï¼Œåƒä¸ªè€æœ‹å‹", s:0, n:"é‡Šæ€€äº†ï¼Œåè€Œæœ€éš¾å›åˆ°è¿‡å»ã€‚"}
        ]},
        { q: "7. ä½ ä»¬æ˜¯å¦è¿˜ä¿ç•™ç€å¯¹æ–¹çš„ç‰©å“ï¼Ÿ", options: [
            {t:"éƒ½è¿˜åœ¨ï¼Œèˆä¸å¾—æ‰”", s:2, n:"ç‰©å“æ˜¯æƒ…æ„Ÿçš„è½½ä½“ï¼Œä»–åœ¨çŠ¹è±«ã€‚"}, 
            {t:"ä»–æŠŠä¸œè¥¿éƒ½è¿˜æˆ‘äº†/æ‰”äº†", s:-4, n:"è¿™æ˜¯ç‰©ç†å±‚é¢çš„åˆ‡å‰²ï¼Œä»£è¡¨å†³ç»ã€‚"}, 
            {t:"ä¸æ¸…æ¥šï¼Œåº”è¯¥è¿˜åœ¨è§’è½é‡Œ", s:0, n:"æç½®ï¼Œä»£è¡¨æš‚æ—¶çš„å°å­˜ã€‚"}
        ]},
        { q: "8. ä½ ä»¬æœ‰å…±åŒå¥½å‹å—ï¼Ÿå¥½å‹æ€ä¹ˆè¯´ï¼Ÿ", options: [
            {t:"æœ‰ï¼Œæœ‹å‹è¯´ä»–æœ€è¿‘çŠ¶æ€ä¸å¥½", s:3, n:"ä»–åœ¨ç”¨â€œä¸å¥½â€æ¥é‡Šæ”¾ä¿¡å·ã€‚"}, 
            {t:"æœ‰ï¼Œæœ‹å‹è¯´ä»–ç©å¾—å¾ˆå¼€å¿ƒ", s:-2, n:"è¿™ç§å¼€å¿ƒï¼Œå¯èƒ½æ˜¯ä¸ºäº†æ©é¥°ç©ºè™šã€‚"}, 
            {t:"æ²¡æœ‰å…±åŒå¥½å‹/æ–­è”äº†", s:-1, n:"ä¿¡æ¯å­¤å²›ï¼Œä¼šå¢åŠ å¤åˆçš„éš¾åº¦ã€‚"}
        ]},
        { q: "9. ä½ æœ€è¿‘æœ‰æ²¡æœ‰æ¢¦åˆ°è¿‡ä»–ï¼Ÿ", options: [
            {t:"ç»å¸¸æ¢¦åˆ°ï¼Œæ¢¦é‡Œå¾ˆç”œ", s:1, n:"è¿™æ˜¯ä½ çš„æ½œæ„è¯†åœ¨è¡¥å¿ç°å®çš„ç¼ºå¤±ã€‚"}, 
            {t:"ç»å¸¸æ¢¦åˆ°ï¼Œæ¢¦é‡Œåœ¨åµæ¶/å†·æˆ˜", s:2, n:"æ¢¦å¢ƒæ˜¯ç°å®å‹åŠ›çš„æŠ•å°„ï¼Œè¯´æ˜è¿˜æœ‰çº ç¼ ã€‚"}, 
            {t:"å¾ˆå°‘æ¢¦åˆ°ï¼Œç¡çœ è¿˜å¥½", s:0, n:"ä½ çš„æ½œæ„è¯†æ­£åœ¨æ…¢æ…¢æ¥å—åˆ†ç¦»ã€‚"}
        ]},
        { q: "10. å¦‚æœç°åœ¨æœ‰ä¸€ä¸ªæœºä¼šèƒ½å¤åˆï¼Œä½†éœ€è¦ä½ å…ˆä½å¤´ï¼Ÿ", options: [
            {t:"æ„¿æ„ï¼Œæˆ‘ä¸æƒ³é”™è¿‡", s:-1, n:"åˆ«è®©ä½ çš„çˆ±ï¼Œå˜å¾—å¤ªå»‰ä»·ã€‚"}, 
            {t:"ä¸æ„¿æ„ï¼Œå‡­ä»€ä¹ˆæ˜¯æˆ‘", s:-2, n:"åšå¼ˆå¿ƒç†å¤ªé‡ï¼Œä¼šæ¨è¿œå½¼æ­¤ã€‚"}, 
            {t:"çœ‹æƒ…å†µï¼Œéœ€è¦åˆé€‚çš„å¥‘æœº", s:4, n:"ç†æ™ºçš„çˆ±ï¼Œæ‰èµ°å¾—é•¿è¿œã€‚"}
        ]},
        { q: "11. ä½ çš„ç›´è§‰å‘Šè¯‰ä½ ï¼Œä»–ç°åœ¨æœ‰æ–°æ¬¢å—ï¼Ÿ", options: [
            {t:"æ„Ÿè§‰æœ‰ï¼Œæˆ–è€…æœ‰æš§æ˜§å¯¹è±¡", s:-6, n:"ç›´è§‰å¾€å¾€æ˜¯å‡†çš„ï¼Œè¿™æ˜¯æœ€å¤§çš„é˜»ç¢ã€‚"}, 
            {t:"åº”è¯¥æ²¡æœ‰ï¼Œä»–æ²¡é‚£ä¹ˆå¿«", s:3, n:"ç©ºçª—æœŸï¼Œæ˜¯ä¿®å¤å…³ç³»çš„é»„é‡‘æœŸã€‚"}, 
            {t:"å®Œå…¨ä¸çŸ¥é“", s:0, n:"æœªçŸ¥ï¼Œæ¯”åæ¶ˆæ¯æ›´è®©äººç„¦è™‘ã€‚"}
        ]},
        { q: "12. ä½ è§‰å¾—ä½ ä»¬çš„ç¼˜åˆ†å°½äº†å—ï¼Ÿ", options: [
            {t:"å°½äº†ï¼Œæ„Ÿè§‰èµ°ä¸åŠ¨äº†", s:-3, n:"å½“ä½ è§‰å¾—å°½äº†ï¼Œèƒ½é‡åœºå°±çœŸçš„å…³é—­äº†ã€‚"}, 
            {t:"æ²¡å°½ï¼Œæ€»è§‰å¾—è¿˜ä¼šå‘ç”Ÿç‚¹ä»€ä¹ˆ", s:5, n:"è¿™ç§å¼ºçƒˆçš„ç›´è§‰ï¼Œå¾€å¾€æ˜¯åŒå‘çš„æ„Ÿåº”ã€‚"}, 
            {t:"ä¸çŸ¥é“ï¼Œå¾ˆè¿·èŒ«", s:0, n:"è¿·èŒ«ï¼Œæ˜¯å› ä¸ºè¿˜åœ¨ä¹ã€‚"}
        ]}
    ];

    // --- ç»“æœåº“ ---
    const results = [
        {
            min: 30, 
            title: "ã€å‡æ€§åˆ†ç¦»ï¼šçµé­‚ç¾ç»ŠæœŸã€‘",
            core: "å›å£°æ¨¡å‹æ¨æ¼”æ˜¾ç¤ºï¼Œä½ ä»¬çš„æƒ…æ„Ÿè¿æ¥å¹¶æœªçœŸæ­£æ–­è£‚ã€‚æ‰€è°“çš„â€œåˆ†æ‰‹â€ï¼Œæ›´åƒæ˜¯ä¸€æ¬¡æƒ…ç»ªè¿‡è½½åçš„åº”æ¿€ååº”ï¼ˆStress Responseï¼‰ã€‚ä½ ä»¬çš„æ½œæ„è¯†ä¾ç„¶å¤„äºâ€œå…±ç”Ÿâ€çŠ¶æ€ï¼Œå°±åƒä¸¤æ ¹çº ç¼ çš„è—¤è”“ï¼Œè™½ç„¶è¡¨é¢è§£å¼€äº†ï¼Œæ ¹ç³»è¿˜åœ¨åœ°ä¸‹ç´§ç´§ç›¸è¿ã€‚è¿™ç§è¿æ¥é€šå¸¸è¢«ç§°ä¸ºâ€œä¸šåŠ›å…³ç³»â€æˆ–â€œçµé­‚ç¾ç»Šâ€ã€‚",
            him: "ä»–ç°åœ¨çš„å†·æ¼ æ˜¯ä¸€ç§â€œé˜²å¾¡æœºåˆ¶â€ã€‚ä»–å¹¶æ²¡æœ‰æ”¾ä¸‹ï¼Œè€Œæ˜¯åœ¨é€šè¿‡â€œåæ’¤â€æ¥è¯•æ¢ä½ çš„åº•çº¿ï¼Œæˆ–è€…ç´¢å–å®‰å…¨æ„Ÿã€‚ä»–æ­¤æ—¶æœ€å®³æ€•çš„ä¸æ˜¯å¤±å»ä½ ï¼Œè€Œæ˜¯å®³æ€•é‡è¹ˆè¦†è¾™ã€‚ä»–åœ¨è§‚å¯Ÿä½ æ˜¯å¦çœŸçš„æœ‰æ‰€æ”¹å˜ï¼Œè¿˜æ˜¯åªæ˜¯ä¸ºäº†æŒ½å›è€Œæ¼”æˆã€‚",
            stage: "ç›®å‰æ­£å¤„äºã€è¯•æ¢ä¸åšå¼ˆæœŸã€‘ã€‚åŒæ–¹éƒ½åœ¨ç­‰å¯¹æ–¹å…ˆé‡Šæ”¾ä¿¡å·ã€‚ä»–çš„è§†å¥¸é¢‘ç‡å¯èƒ½å¾ˆé«˜ï¼Œä½†è¡ŒåŠ¨åŠ›è¢«è‡ªå°Šå¿ƒå‹åˆ¶ã€‚è¿™æ˜¯ä¸€ç§å¾®å¦™çš„å¹³è¡¡ã€‚",
            advice: "å»ºè®®é‡‡å–â€œé•œåƒç­–ç•¥â€ã€‚ä¸è¦è¿‡åº¦æš´éœ²éœ€æ±‚æ„Ÿï¼Œä¿æŒæƒ…ç»ªç¨³å®šã€‚å½“ä»–é€€ä¸€æ­¥ï¼Œä½ é€€ä¸¤æ­¥ï¼›å½“ä»–è¿›ä¸€æ­¥ï¼Œä½ åŸåœ°ä¸åŠ¨ã€‚è®©ä»–äº§ç”Ÿâ€œå³å°†çœŸæ­£å¤±å»ä½ â€çš„å±æœºæ„Ÿï¼Œæ˜¯æ‰“ç ´åƒµå±€çš„å…³é”®ã€‚",
            stats: [85, 90, 40, 75, 80]
        },
        {
            min: 10, 
            title: "ã€æ²Ÿé€šé˜»æ»ï¼šä¾æ‹é”™ä½æœŸã€‘",
            core: "ä½ ä»¬ä¹‹é—´æœ‰æ·±åšçš„æ„Ÿæƒ…åŸºç¡€ï¼Œä½†æ²Ÿé€šæ¨¡å¼å‡ºç°äº†ä¸¥é‡çš„é”™ä½ï¼ˆMisalignmentï¼‰ã€‚è¿™åœ¨å¿ƒç†å­¦ä¸Šè¢«ç§°ä¸ºâ€œè´Ÿå‘äº’åŠ¨å¾ªç¯â€ï¼šä½ è¶Šæ˜¯ç„¦è™‘åœ°æƒ³æŠ“ä½ä»–ï¼Œä»–è¶Šæ˜¯æœ¬èƒ½åœ°æƒ³é€ƒç¦»ã€‚é—®é¢˜ä¸åœ¨äºçˆ±ä¸çˆ±ï¼Œè€Œåœ¨äºâ€œä¾›éœ€ä¸åŒ¹é…â€ã€‚ä½ ç»™çš„ï¼Œç›®å‰ä¸æ˜¯ä»–æƒ³è¦çš„ã€‚",
            him: "ä»–ç°åœ¨å¤„äºçŸ›ç›¾æœŸã€‚æ·±å¤œæ—¶ä»–ä¼šæ€€å¿µè¿‡å»çš„æ¸©æš–ï¼Œä½†ç™½å¤©ä¸€æƒ³åˆ°å¤è”ååˆè¦é¢ä¸´äº‰åµå’Œè§£é‡Šï¼Œä»–åˆä¼šé€€ç¼©ã€‚ä»–çš„æ½œæ„è¯†é‡Œå……æ»¡äº†â€œå‹åŠ›æ„Ÿâ€ã€‚ä»–éœ€è¦çš„æ˜¯ä¸€ä¸ªå®‰å…¨ã€æ— å‹åŠ›çš„ç©ºé—´æ¥æ¶ˆåŒ–æƒ…ç»ªã€‚",
            stage: "ç›®å‰å¤„äºã€å†·é™ä¸é‡å¡‘æœŸã€‘ã€‚ä»–çš„è´Ÿé¢å°è±¡æ­£åœ¨æ…¢æ…¢æ·¡åŒ–ï¼Œä½†è¿˜æ²¡æœ‰å®Œå…¨æ¶ˆé™¤ã€‚ç°åœ¨çš„æ¯ä¸€æ¬¡è”ç³»ï¼Œéƒ½å¿…é¡»æ˜¯é«˜è´¨é‡çš„ï¼Œä¸èƒ½æ˜¯æƒ…ç»ªçš„åƒåœ¾ã€‚",
            advice: "å»ºè®®è¿›è¡Œâ€œèƒ½é‡å›æ”¶â€ã€‚åœæ­¢ä¸€åˆ‡å¸¦æœ‰ç´¢å–æ„Ÿçš„è”ç³»ã€‚å°†å…³æ³¨ç‚¹è½¬ç§»åˆ°è‡ªå·±èº«ä¸Šã€‚å½“ä½ ä¸å†å›´ç€ä»–è½¬ï¼Œå˜å¾—å…‰å½©ç…§äººæ—¶ï¼Œä»–çš„å¥½å¥‡å¿ƒæœºåˆ¶ä¼šè¢«é‡æ–°æ¿€æ´»ã€‚è®°ä½ï¼Œå¸å¼•åŠ›æ³•åˆ™çš„æ ¸å¿ƒæ˜¯â€œè‡ªçˆ±â€ã€‚",
            stats: [66, 60, 26, 50, 62] 
        },
        {
            min: -10, 
            title: "ã€èƒ½é‡å¤±è¡¡ï¼šè‡ªæˆ‘æ¶ˆè€—æœŸã€‘",
            core: "å›å£°æ¨¡å‹è¯„ä¼°æ˜¾ç¤ºï¼Œè¿™æ®µå…³ç³»çš„èƒ½é‡åœºå¤„äºå¤±è¡¡çŠ¶æ€ï¼ˆImbalanceï¼‰ã€‚ä½ åœ¨ä¸æ–­é€æ”¯è‡ªå·±çš„èƒ½é‡å»å¡«è¡¥å…³ç³»çš„é»‘æ´ï¼Œè€Œå¯¹æ–¹å·²ç»å…³é—­äº†æƒ…æ„Ÿæ¥æ”¶é€šé“ã€‚è¿™ä¸ä»…ä»…æ˜¯æ²Ÿé€šé—®é¢˜ï¼Œè€Œæ˜¯æ ¸å¿ƒéœ€æ±‚ï¼ˆCore Needsï¼‰çš„é•¿æœŸå¿½è§†ã€‚ç»§ç»­è¿™ç§çŠ¶æ€ï¼Œåªä¼šè®©ä½ æ›´åŠ æ¯èã€‚",
            him: "ä»–çš„æ½œæ„è¯†é‡Œå……æ»¡äº†â€œé€ƒç¦»æ„Ÿâ€å’Œâ€œç–²æƒ«æ„Ÿâ€ã€‚å¯¹ä»–æ¥è¯´ï¼Œç›®å‰çš„å•èº«çŠ¶æ€å¯èƒ½æ˜¯ä¸€ç§æš‚æ—¶çš„è§£è„±ã€‚ä»»ä½•æ¥è‡ªä½ çš„ç›´æ¥è”ç³»ï¼Œéƒ½å¯èƒ½è¢«å¤§è„‘æä»ä½“åˆ¤å®šä¸ºâ€œå¨èƒä¿¡å·â€ã€‚ä»–ç°åœ¨å¯¹ä½ çš„å°è±¡å›ºåŒ–åœ¨â€œå‹åŠ›æºâ€è¿™ä¸ªæ ‡ç­¾ä¸Šã€‚",
            stage: "ç›®å‰å¤„äºã€æ’æ–¥ä¸é€ƒç¦»æœŸã€‘ã€‚ä»»ä½•å¼ºè¡Œçš„æ¨è¿›éƒ½ä¼šå¯¼è‡´è¢«å½»åº•å°é”ã€‚ä»–ç°åœ¨éœ€è¦çš„æ˜¯ç»å¯¹çš„è‡ªç”±ã€‚",
            advice: "å»ºè®®ç«‹å³æ‰§è¡Œâ€œå½»åº•æ–­è”â€ï¼ˆNo Contactï¼‰ã€‚è¿™ä¸ä»…æ˜¯ä¸ºäº†å°Šä¸¥ï¼Œæ›´æ˜¯ä¸ºäº†ä¿æŠ¤ä½ çš„èƒ½é‡åœºã€‚åªæœ‰å½“ä½ å½»åº•æ¶ˆå¤±åœ¨ä»–çš„ä¸–ç•Œé‡Œï¼Œæ‰æœ‰å¯èƒ½æ‰“ç ´ä»–å¯¹ä½ çš„åˆ»æ¿å°è±¡ï¼Œäº§ç”Ÿâ€œå¤±å»æ„Ÿâ€ã€‚æ­¤æ—¶ï¼Œæ­¢æŸæ¯”æŒ½å›æ›´éœ€è¦æ™ºæ…§ã€‚",
            stats: [40, 30, 20, 20, 35]
        },
        {
            min: -100, 
            title: "ã€ç¼˜åˆ†å†»ç»“ï¼šç°å®é˜»ç¢æœŸã€‘",
            core: "å¾ˆé—æ†¾ï¼Œæ•°æ®æ˜¾ç¤ºç°å®å±‚é¢çš„é˜»ç¢ï¼ˆå¦‚ä»·å€¼è§‚å·®å¼‚ã€å®¶åº­é˜»åŠ›ã€åŸåˆ™æ€§èƒŒå›ï¼‰å·²ç»ç›–è¿‡äº†æƒ…æ„Ÿè¿æ¥ã€‚è¿™æ®µå…³ç³»çš„â€œæ²‰æ²¡æˆæœ¬â€è™½ç„¶å¾ˆé«˜ï¼Œä½†ç»§ç»­æŠ•å…¥å¯èƒ½ä¼šå¸¦æ¥æ›´å¤§çš„â€œæœºä¼šæˆæœ¬â€æŸå¤±ã€‚æœ‰æ—¶å€™ï¼Œç¼˜åˆ†å°½äº†ï¼Œä¸æ˜¯å› ä¸ºä¸çˆ±ï¼Œæ˜¯å› ä¸ºæ— æ³•å…±å­˜ã€‚",
            him: "ä»–å¯èƒ½å·²ç»å¼€å§‹æ–°çš„ç”Ÿæ´»è½¨è¿¹ï¼Œæˆ–è€…åœ¨å¿ƒç†ä¸Šå·²ç»å®Œæˆäº†â€œåˆ†ç¦»ä¸ªä½“åŒ–â€çš„è¿‡ç¨‹ã€‚ä»–å¯¹ä½ çš„è®°å¿†æ­£åœ¨æ…¢æ…¢æ·¡åŒ–ï¼Œç”šè‡³å¼€å§‹é‡æ„è®°å¿†ï¼Œåªè®°å¾—ä¸å¥½çš„éƒ¨åˆ†ã€‚ä»–å¯¹è¿™æ®µå…³ç³»å·²ç»æ²¡æœ‰äº†æœŸå¾…ã€‚",
            stage: "ç›®å‰å¤„äºã€æ–­è£‚ä¸æ–°ç”ŸæœŸã€‘ã€‚æ—§çš„é“¾æ¥å·²ç»æ–­è£‚ï¼Œæ–°çš„é“¾æ¥æ— æ³•å»ºç«‹ã€‚",
            advice: "å½“ä¸‹ä¸€æ‰‡é—¨å…³é—­æ—¶ï¼Œä¸è¦åœ¨é—¨å£å“­æ³£ã€‚å»ºè®®è¿›è¡Œå½»åº•çš„æ¸…ç†ï¼ŒåŒ…æ‹¬ç‰©ç†ç¯å¢ƒå’Œå¿ƒç†ç¯å¢ƒã€‚æ”¾æ‰‹æ˜¯å¯¹å½¼æ­¤æœ€åçš„æˆå…¨ï¼Œä¹Ÿæ˜¯ç»™ä½ è‡ªå·±æ–°ç”Ÿçš„æœºä¼šã€‚ä½ å€¼å¾—ä¸€æ®µä¸éœ€è¦ä½ å¦‚æ­¤è´¹åŠ›è®¨å¥½çš„å…³ç³»ã€‚",
            stats: [15, 10, 10, 5, 10]
        }
    ];

    let historyStack = [];
    let isNavigating = false;

    function startTest() {
        document.getElementById('p-home').classList.remove('active');
        document.getElementById('p-quiz').classList.add('active');
        renderQuestion(0);
    }

    function renderQuestion(idx) {
        document.getElementById('progress').style.width = ((idx)/questions.length)*100 + '%';
        const btnBack = document.getElementById('btn-back');
        if(idx > 0) {
            btnBack.classList.remove('hidden');
            btnBack.onclick = () => goBack();
        } else {
            btnBack.classList.add('hidden');
        }

        const q = questions[idx];
        document.getElementById('q-text').innerText = q.q;
        
        const box = document.getElementById('options-box');
        box.innerHTML = '';
        box.style.pointerEvents = 'auto';
        document.getElementById('narrator').style.opacity = '0';

        q.options.forEach(opt => {
            const div = document.createElement('div');
            div.className = 'option';
            div.innerHTML = `<span>${opt.t}</span> <span style="font-size:18px; opacity:0.5">â€º</span>`;
            div.onclick = function() { handleSelect(this, idx, opt.s, opt.n); };
            box.appendChild(div);
        });
    }

    function handleSelect(el, idx, score, note) {
        if(isNavigating) return;
        isNavigating = true;
        el.classList.add('selected');
        document.getElementById('options-box').style.pointerEvents = 'none';
        
        const narrator = document.getElementById('narrator');
        narrator.innerText = `â€œ${note}â€`;
        narrator.style.opacity = '1';

        historyStack.push({idx, score});

        setTimeout(() => {
            isNavigating = false;
            if(idx < questions.length - 1) {
                renderQuestion(idx+1);
            } else {
                showLoading();
            }
        }, 1200);
    }

    function goBack() {
        if(historyStack.length === 0 || isNavigating) return;
        historyStack.pop();
        renderQuestion(historyStack.length);
    }

    function showLoading() {
        document.getElementById('p-quiz').classList.remove('active');
        document.getElementById('p-loading').classList.add('active');
        
        const msgs = ["å›å£°å¼•æ“æ­£åœ¨æ¯”å¯¹ä¾æ‹æ¨¡å‹...", "æ­£åœ¨è§£ææ½œæ„è¯†ä¿¡å·...", "æ­£åœ¨æ¨æ¼”æœªæ¥è½¨è¿¹...", "ç”Ÿæˆæœ€ç»ˆè¯„ä¼°æŠ¥å‘Š..."];
        let i = 0;
        let timer = setInterval(() => {
            if(i < msgs.length) {
                document.getElementById('loading-msg').innerText = msgs[i];
                i++;
            } else {
                clearInterval(timer);
                showResult();
            }
        }, 800);
    }

    function showResult() {
        document.getElementById('p-loading').classList.remove('active');
        document.getElementById('p-result').classList.add('active');
        
        let totalScore = historyStack.reduce((a,b)=>a+b.score, 0);
        
        // ç”Ÿæˆé«˜çº§æŠ¥å‘Šç¼–å·
        const reportId = "ECHO-" + Math.random().toString(36).substr(2, 5).toUpperCase() + "-" + new Date().getHours() + new Date().getMinutes();
        document.getElementById('report-id').innerText = "ID: " + reportId;

        // åŠ¨æ€æ¦‚ç‡ç®—æ³•
        let base = (totalScore + 30) / 80 * 100;
        let percentage = Math.round(base + (Math.random()*6-3));
        if(percentage > 98) percentage = 98;
        if(percentage < 2) percentage = 2;

        let res = results.find(r => totalScore >= r.min) || results[results.length-1];
        
        let color = "#e0c3fc";
        if(percentage < 40) color = "#a9a9a9";
        else if(percentage > 80) color = "#a18cd1";
        
        const scoreDiv = document.getElementById('res-score');
        scoreDiv.innerText = percentage + "%";
        scoreDiv.style.color = color;
        scoreDiv.style.textShadow = `0 0 30px ${color}50`;

        document.getElementById('res-title').innerText = res.title;
        document.getElementById('res-core').innerText = res.core;
        document.getElementById('res-him').innerText = res.him;
        document.getElementById('res-stage').innerText = res.stage;
        document.getElementById('res-advice').innerText = res.advice;

        const vizLabels = ["ç¼˜åˆ†ç¾ç»Š", "æ¿€æƒ…æŒ‡æ•°", "æ²Ÿé€šæ„æ„¿", "æ½œæ„è¯†è¿ç»“", "æœªæ¥è¶‹åŠ¿"];
        let vizHTML = "";
        res.stats.forEach((val, i) => {
            let displayVal = Math.min(100, Math.max(5, val + Math.floor(Math.random()*6-3)));
            vizHTML += `
                <div class="viz-row">
                    <div class="viz-label">${vizLabels[i]}</div>
                    <div class="viz-track">
                        <div class="viz-bar" style="width:0%" data-w="${displayVal}%"></div>
                    </div>
                    <div class="viz-val">${displayVal}</div>
                </div>
            `;
        });
        document.getElementById('data-viz').innerHTML = vizHTML;

        setTimeout(() => {
            document.querySelectorAll('.viz-bar').forEach(bar => {
                bar.style.width = bar.getAttribute('data-w');
            });
        }, 100);
    }
</script>

</body>
</html>