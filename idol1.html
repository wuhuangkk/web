<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kpop å‡ºé“ç”Ÿå­˜æˆ˜ - ä½ çš„çˆ±è±†å±¥å†</title>
    <style>
        /* --- è§†è§‰åŸºè°ƒï¼šY2K èµ›åšæ‰“æ­Œèˆå°é£ --- */
        body {
            margin: 0; padding: 0;
            background-color: #0d0d12;
            background-image: radial-gradient(circle at 50% 0%, #2a0845 0%, #0d0d12 80%);
            color: #e0e0e0;
            font-family: -apple-system, "PingFang SC", "Microsoft YaHei", sans-serif;
            min-height: 100vh; display: flex; justify-content: center; align-items: center;
            overflow-x: hidden; -webkit-tap-highlight-color: transparent;
        }

        .bg-fx {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;
            background: linear-gradient(45deg, rgba(255,0,150,0.03) 0%, rgba(0,255,200,0.03) 100%);
            background-size: 400% 400%; animation: gradientBG 10s ease infinite;
        }
        @keyframes gradientBG { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }

        .glass-box {
            position: relative; z-index: 10; width: 100%; max-width: 480px; min-height: 100vh;
            background: rgba(20, 20, 25, 0.7); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            display: flex; flex-direction: column; padding: 24px; box-sizing: border-box;
            border-left: 1px solid rgba(255, 0, 150, 0.2); border-right: 1px solid rgba(0, 255, 200, 0.2);
        }

        /* --- é¦–é¡µå…ƒç´  --- */
        .header-title { text-align: center; margin: 30px 0 20px 0; }
        h1 { font-size: 30px; font-weight: 900; background: linear-gradient(90deg, #ff007f, #00ffc8); -webkit-background-clip: text; color: transparent; margin: 0; letter-spacing: 2px; text-shadow: 0 0 20px rgba(255,0,127,0.3); font-style: italic;}
        .subtitle { font-size: 13px; color: #aaa; text-align: center; line-height: 1.6; margin-top: 10px; letter-spacing: 1px; }

        .pulse-container { position: relative; width: 100%; height: 120px; display: flex; justify-content: center; align-items: center; margin: 20px 0; }
        .seal { width: 80px; height: 80px; border: 2px solid #00ffc8; border-radius: 50%; color: #00ffc8; font-size: 18px; display: flex; align-items: center; justify-content: center; font-weight: 900; transform: rotate(-10deg); opacity: 0.9; box-shadow: 0 0 20px rgba(0,255,200,0.4); text-transform: uppercase; letter-spacing: 1px;}
        
        .citation-box { background: rgba(255, 0, 150, 0.05); padding: 15px; border-radius: 12px; margin: 20px 0; border: 1px solid rgba(255, 0, 150, 0.15); }
        .cite-title { font-size: 12px; color: #ff007f; margin-bottom: 8px; font-weight: bold; text-transform: uppercase;}
        .cite-item { font-size: 12px; color: #bbb; margin-bottom: 6px; display: flex; align-items: center; }

        .btn-main {
            background: linear-gradient(135deg, #ff007f 0%, #7000ff 100%);
            border: none; color: #fff; font-weight: 800; padding: 16px; border-radius: 30px; font-size: 16px; width: 100%;
            cursor: pointer; margin: 10px 0; box-shadow: 0 8px 25px rgba(255, 0, 127, 0.4); transition: 0.2s; letter-spacing: 1px;
        }
        .btn-main:active { transform: scale(0.98); }

        .btn-back {
            background: transparent; border: 1px solid rgba(0,255,200,0.4);
            color: #00ffc8; padding: 6px 16px; border-radius: 20px; font-size: 12px;
            cursor: pointer; display: inline-block; margin-bottom: 20px; width: fit-content; transition: 0.2s;
        }
        .hidden { display: none; }

        /* --- ç­”é¢˜åŒº --- */
        .progress-bar { height: 4px; background: rgba(255,255,255,0.1); margin-bottom: 30px; border-radius: 2px;}
        .progress-fill { height: 100%; background: linear-gradient(90deg, #ff007f, #00ffc8); width: 0%; transition: 0.3s; box-shadow: 0 0 10px #ff007f;}
        .question-text { font-size: 18px; line-height: 1.6; font-weight: 500; margin-bottom: 25px; min-height: 60px; color: #fff; }
        .option {
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255,255,255,0.08);
            padding: 16px; margin-bottom: 12px; border-radius: 12px; font-size: 15px; color: #ddd; cursor: pointer; transition: 0.2s; line-height: 1.5;
        }
        .option.selected { background: rgba(255, 0, 150, 0.15); border-color: #ff007f; color: #fff; box-shadow: inset 0 0 10px rgba(255,0,150,0.2);}

        /* --- ç»“æœé¡µ --- */
        .report-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .brand-watermark { font-size: 10px; color: #777; font-family: monospace; letter-spacing: 0.5px; }

        .result-card { background: rgba(0,0,0,0.5); border-radius: 16px; padding: 25px; border: 1px solid rgba(0, 255, 200, 0.3); margin-bottom: 20px; position: relative; overflow: hidden;}
        
        /* éšæœºèº«ä»½æ¡£æ¡ˆåŒº (æå…·ä»£å…¥æ„Ÿ) */
        .profile-box { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 3px solid #ff007f; }
        .profile-row { font-size: 13px; color: #ccc; margin-bottom: 6px; line-height: 1.5; }
        .profile-highlight { color: #00ffc8; font-weight: bold; }

        .char-title { font-size: 22px; font-weight: 900; text-align: center; color: #fff; margin-bottom: 15px; font-style: italic; letter-spacing: 1px; line-height: 1.4;}
        
        /* ç–¯ç‹‚çš„çˆ±è±†å¤šç»´æ ‡ç­¾å¢™ (Tag Cloud) */
        .tag-cloud { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 25px; }
        .tag-badge { 
            font-size: 11.5px; font-weight: bold; padding: 5px 10px; border-radius: 6px; letter-spacing: 0.5px;
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: #ddd;
        }
        /* ä¸åŒçš„æ ‡ç­¾é¢œè‰² */
        .t-core { background: linear-gradient(90deg, #ff007f, #b785ff); color: #fff; border: none; font-size: 12px; box-shadow: 0 0 10px rgba(255,0,127,0.3);}
        .t-pos { background: rgba(0, 255, 200, 0.15); border: 1px solid rgba(0, 255, 200, 0.5); color: #00ffc8; }
        .t-com { background: rgba(255, 0, 150, 0.1); border: 1px solid rgba(255, 0, 150, 0.4); color: #ff007f; }
        .t-pop { background: rgba(112, 0, 255, 0.15); border: 1px solid rgba(112, 0, 255, 0.5); color: #c69cff; }
        .t-ani { background: rgba(255, 165, 0, 0.15); border: 1px solid rgba(255, 165, 0, 0.5); color: #ffc107; }
        .t-fan { background: rgba(0, 191, 255, 0.15); border: 1px solid rgba(0, 191, 255, 0.5); color: #00bfff; }

        /* æ•°æ®å¯è§†åŒ–é›·è¾¾æ¡ */
        .data-viz-box { margin: 0 0 25px 0; background: rgba(255,255,255,0.02); padding: 15px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.05);}
        .viz-row { display: flex; align-items: center; margin-bottom: 10px; }
        .viz-label { width: 70px; font-size: 11px; color: #aaa; text-align: right; margin-right: 12px; letter-spacing: 1px; }
        .viz-track { flex: 1; height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden; }
        .viz-bar { height: 100%; background: linear-gradient(90deg, #ff007f, #00ffc8); width: 0%; border-radius: 3px; transition: width 1.5s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .viz-val { width: 30px; font-size: 12px; color: #fff; margin-left: 10px; text-align: right; font-family: monospace; font-weight: bold;}

        .sec-title { font-size: 14px; color: #ff007f; margin-bottom: 10px; font-weight: bold; display: flex; align-items: center; letter-spacing: 1px;}
        .sec-title::before { content: 'âœ¦'; margin-right: 8px; font-size: 14px; color: #00ffc8;}
        .sec-content { font-size: 13px; line-height: 1.8; color: #ddd; text-align: justify; margin-bottom: 25px; }
        
        .privacy-tip { text-align: center; margin-top: 10px; padding-top: 10px; }
        .bottom-watermark { font-size: 11px; color: #777; line-height: 1.6;}

        .page { display: none; animation: fadeIn 0.4s ease-out; }
        .page.active { display: block; }
        @keyframes fadeIn { from {opacity: 0; transform: translateY(15px);} to {opacity: 1; transform: translateY(0);} }
        
        .spinner { width: 40px; height: 40px; border: 3px solid rgba(0,255,200,0.2); border-top-color: #ff007f; border-radius: 50%; animation: spin 0.8s infinite cubic-bezier(0.5, 0, 0.5, 1); margin: 0 auto 20px auto; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div class="bg-fx"></div>

<div class="glass-box">
    
    <div id="p-home" class="page active">
        <div class="header-title">
            <h1>Kpop å¶åƒæ¡£æ¡ˆåº“</h1>
            <div class="subtitle">æ²‰æµ¸å¼æµ‹è¯• + ä¸‡ç»´æ ‡ç­¾ç®—æ³•<br>ç”Ÿæˆä½ çš„ç¥çº§çˆ±è±†èº«ä»½å¡</div>
        </div>

        <div class="pulse-container">
            <div class="seal">Debut</div>
        </div>

        <div class="citation-box">
            <div class="cite-title">æ¡£æ¡ˆç”Ÿæˆè§„åˆ™</div>
            <div class="cite-item">âœ¦ ç­”é¢˜æµ‹è¯•ï¼šæ¨æ¼”ä½ çš„ä¸“å±æ¦‚å¿µé˜µè¥ä¸å¿ƒç†é›·è¾¾</div>
            <div class="cite-item">âœ¦ ä¸‡ç»´æ ‡ç­¾ï¼šå¤šé‡ä¸»èˆ/é—¨é¢ç»„åˆã€åŠ¨ç‰©å¡‘ã€å‰¯ä¸šå…¨è¦†ç›–</div>
            <div class="cite-item">âœ¦ æœç»é‡æ ·ï¼šè¶… 1,000,000 ç§çˆ±è±†èº«ä»½ç»„åˆç­‰ä½ è§£é”</div>
        </div>

        <button class="btn-main" onclick="startTest()">è¸å…¥ååˆ©åœº (10é¢˜)</button>
        
        <p style="text-align:center; font-size:11px; color:#555; margin-top:20px;">
            çº¯å±æ€§æ ¼æµ‹è¯•ä¸è§’è‰²æ‰®æ¼”å¨±ä¹<br>æœ¬é¡µä¸ä¿å­˜ä»»ä½•æ•°æ®ï¼Œè¯·å®‰å¿ƒé£Ÿç”¨ã€‚
        </p>
    </div>

    <div id="p-quiz" class="page">
        <button id="btn-back" class="btn-back hidden" onclick="goBack()">â€¹ ä¸Šä¸€é¢˜</button>
        <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        <div class="question-text" id="q-text">...</div>
        <div id="options-box"></div>
    </div>

    <div id="p-loading" class="page">
        <div style="text-align: center; margin-top: 40vh; transform: translateY(-50%);">
            <div class="spinner"></div>
            <p style="color:#00ffc8; font-size:13px; letter-spacing: 1px;">æ­£åœ¨ä¸ºä½ ç–¯ç‹‚è´´æ ‡ç­¾...</p>
            <p style="color:#ff007f; font-size:11px; margin-top:5px;">å¤åˆå®šä½... åŠ¨ç‰©å¡‘... å‰¯ä¸šç»“ç®—ä¸­...</p>
        </div>
    </div>

    <div id="p-result" class="page">
        
        <div class="report-header">
            <span class="brand-watermark">å¶åƒæ¡£æ¡ˆåº“ (IDOL PROFILE)</span>
            <span class="brand-watermark" id="report-id">ID: --</span>
        </div>

        <div class="result-card">
            
            <div class="profile-box">
                <div class="profile-row">ğŸ§¬ åŸºç¡€è®¾å®šï¼š<span class="profile-highlight" id="rnd-nat"></span> / <span class="profile-highlight" id="rnd-year"></span>å¹´ç”Ÿ</div>
                <div class="profile-row">ğŸ¢ å‡ºé“å‰å²ï¼š<span class="profile-highlight" id="rnd-story"></span>ï¼Œè‹¦ç†¬äº† <span class="profile-highlight" id="rnd-time"></span> æ­£å¼å‡ºé“ã€‚</div>
            </div>

            <div class="char-title" id="res-name">...</div>

            <div class="tag-cloud" id="tag-cloud">
                </div>

            <div class="data-viz-box" id="data-viz"></div>

            <div class="sec-title">é¥­åœˆå‡ºåœˆååœºé¢</div>
            <div class="sec-content" id="res-viral" style="color:#00ffc8; font-weight:bold;">...</div>

            <div class="sec-title">æ€§æ ¼åº•è‰²ä¸é˜Ÿå†…ç”Ÿæ€</div>
            <div class="sec-content" id="res-core">...</div>

            <div class="sec-title">å¸ç²‰ç„å­¦ä¸ç²‰ä¸ç”»åƒ</div>
            <div class="sec-content" id="res-love">...</div>
        </div>

        <div class="privacy-tip">
            <div class="bottom-watermark">é•¿æŒ‰æˆªå›¾ä¿å­˜ä½ çš„çˆ±è±†æ¡£æ¡ˆ</div>
        </div>

        <button style="background:transparent; border:1px solid rgba(255,255,255,0.2); color:#999; padding:8px 24px; border-radius:20px; font-size:12px; margin: 30px auto 0 auto; display:block; cursor:pointer;" onclick="location.reload()">
            é‡å¼€ä¸€å±€ï¼Œé‡æ–°å‡ºé“
        </button>
    </div>

</div>

<script>
    // --- 10é“æ²‰æµ¸å¼å¿ƒç†åšå¼ˆé¢˜ (ç§¯åˆ†: é‡å¿ƒ+5, ç†æ™º+2, éšæ€§-2, é«˜æ•-5) ---
    const questions = [
        { q: "1. ã€æœˆæœ«è¯„ä»·ã€‘è·ç¦»æœ€ç»ˆå‡ºé“è€ƒæ ¸åªæœ‰ä¸€å¤©ï¼Œä½ åœ¨é‡è¦è¯„å§”é¢å‰é«˜éŸ³ç ´éŸ³/èˆè¹ˆæ‘”å€’äº†ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ", options: [
            {t:"è§‰å¾—å¤©å¡Œäº†ï¼Œé™·å…¥æåº¦çš„è‡ªæˆ‘æ€€ç–‘ï¼Œæƒ³èº²èµ·æ¥å“­", s:-5}, 
            {t:"å½“åœºé èº¬é“æ­‰ï¼Œç„¶åä¸€è¨€ä¸å‘é€šå®µæ­»ç£•ï¼Œè·Ÿè‡ªå·±è¾ƒåŠ²", s:2}, 
            {t:"ç”¨ä¸€ä¸ªæå…¶ææ€ªæˆ–å¯çˆ±çš„åŠ¨ä½œåŒ–è§£å°´å°¬ï¼Œè¯•å›¾é€—ç¬‘è¯„å§”", s:-2}, 
            {t:"å¿ƒé‡Œæ¯«æ— æ³¢æ¾œï¼Œç”šè‡³ç›˜ç®—æ€ä¹ˆåœ¨æ­£å¼è€ƒæ ¸æ—¶è®¾è®¡ä¸ªåè½¬æƒŠè‰³æ‰€æœ‰äºº", s:5} 
        ]},
        { q: "2. ã€æ¶å‰ªå±æœºã€‘é€‰ç§€èŠ‚ç›®é‡Œï¼Œé˜Ÿå†…é‚£ä¸ªçˆ±æŠ¢é£å¤´çš„é€‰æ‰‹æ•…æ„åœ¨é•œå¤´å‰å“­ï¼Œå¯¼è‡´ä½ è¢«å…¨ç½‘æ¶å‰ªéª‚â€œæå°å›¢ä½“â€ï¼Œä½ ä¼šï¼Ÿ", options: [
            {t:"æåº¦å§”å±ˆå†…è€—ï¼Œå®³æ€•çœ‹æ‰‹æœºï¼Œç”šè‡³æƒ³é€€èµ›é€ƒé¿", s:-5}, 
            {t:"æ°”åˆ°å‘æŠ–ï¼Œç›´æ¥åœ¨é•œå¤´å‰è·Ÿå¥¹å½“é¢å¯¹è´¨å¤§åµä¸€æ¶", s:-2}, 
            {t:"ä¿æŒå†·è„¸ä¸å›åº”ï¼Œè§‰å¾—æ‡‚è‡ªå·±çš„äººè‡ªç„¶ä¼šæ‡‚", s:2}, 
            {t:"è¡¨é¢è£…å¤§åº¦å®‰æ…°å¥¹ï¼Œç§ä¸‹ç–¯ç‹‚æ”¶é›†è¯æ®å‡†å¤‡æ€»å†³èµ›ç»åœ°åæ€", s:5} 
        ]},
        { q: "3. ã€èµ„æºåšå¼ˆã€‘å…¬å¸çªç„¶ç©ºé™äº†ä¸€ä¸ªâ€˜çš‡æ—ï¼ˆå¸¦èµ„è¿›ç»„ï¼‰â€™ï¼Œå¼ºè¡ŒæŠŠä½ æœ€æ ¸å¿ƒçš„é«˜å…‰ Part åˆ†ç»™äº†å¥¹ï¼Œä½ ä¼šï¼Ÿ", options: [
            {t:"å¿æ°”åå£°ï¼Œè§‰å¾—åªè¦è‡ªå·±é»˜é»˜åŠªåŠ›æ€»æœ‰ä¸€å¤©ä¼šè¢«çœ‹åˆ°", s:-5}, 
            {t:"æŠŠä¸çˆ½å…¨å†™åœ¨è„¸ä¸Šï¼Œæ’ç»ƒæ—¶æ•…æ„ç»™å¥¹ç”©è„¸è‰²", s:-2}, 
            {t:"æ¥å—ç°å®ï¼Œä½†åœ¨å±äºè‡ªå·±çš„é‚£ç‚¹é•œå¤´é‡Œå±•ç°å‡ºç¢¾å‹å¥¹çš„å®åŠ›", s:2}, 
            {t:"è¡¨é¢å’Œå¥¹åšé—ºèœœï¼Œè¹­å¥¹çš„é•œå¤´å’Œçƒ­åº¦ï¼Œå®ç°è‡ªå·±çš„åˆ©ç›Šæœ€å¤§åŒ–", s:5} 
        ]},
        { q: "4. ã€ååˆ©åœºç¤¾äº¤ã€‘æ‰“æ­ŒèŠ‚ç›®åå°èµ°å»Šï¼Œè¿é¢èµ°æ¥å½“ä¸‹çˆ†çº¢ã€ä½†ä¼ é—»äººå“ä¸å¤ªå¥½çš„å¤§åŠ¿å‰è¾ˆï¼Œä½ çš„æœ¬èƒ½æ˜¯ï¼Ÿ", options: [
            {t:"ç¤¾æå‘ä½œï¼Œä½å¤´è´´ç€å¢™æ ¹è¯•å›¾ä¸è¢«æ³¨æ„åˆ°", s:-5}, 
            {t:"ç¤¾ç‰›å‘ä½œï¼Œä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€å…ˆçƒ­æƒ…æ‰“æ‹›å‘¼æ··ä¸ªè„¸ç†Ÿ", s:-2}, 
            {t:"æå…¶è§„èŒƒåœ°90åº¦é èº¬ï¼Œä½†ä¿æŒç»å¯¹çš„å®‰å…¨ç¤¾äº¤è·ç¦»", s:2}, 
            {t:"å†·æ·¡èµ°è¿‡ï¼Œå¿ƒé‡Œé»˜å¿µâ€˜æ€»æœ‰ä¸€å¤©è¿™ä¸ªèˆå°çš„ç‹æ˜¯æˆ‘â€™", s:5} 
        ]},
        { q: "5. ã€ç›´é¢æ¶æ„ã€‘ç­¾å”®ä¼šä¸Šï¼Œé‡åˆ°ä¸€ä¸ªä¸“é—¨èŠ±é’±æ¥å½“é¢éª‚ä½ ã€é˜´é˜³æ€ªæ°”æŒ‘åˆºçš„é»‘ç²‰ï¼Œä½ ä¼šï¼Ÿ", options: [
            {t:"å¿ƒç†é˜²çº¿è¢«å‡»æºƒï¼Œå¼ºå¿ç€çœ¼æ³ªï¼Œäº‹åå¤±çœ ä¸€æ•´æ™š", s:-5}, 
            {t:"å†·ä¸‹è„¸ï¼Œç›´æ¥æŠŠä¸“è¾‘æ‹åœ¨æ¡Œå­ä¸Šï¼Œçˆ±ç­¾ä¸ç­¾", s:-2}, 
            {t:"ä¿æŒèŒä¸šå‡ç¬‘ï¼Œå®Œå…¨å·¦è€³è¿›å³è€³å‡ºï¼Œå¿«é€Ÿèµ¶è¿›åº¦", s:2}, 
            {t:"çœ¼ç¥æ­»æ­»é”å®šä»–ï¼Œç”¨æå…¶æ¸©æŸ”çš„è¯­æ°”æŠŠä»–æ€¼å¾—å“‘å£æ— è¨€", s:5} 
        ]},
        { q: "6. ã€èˆå°äº‹æ•…ã€‘é˜Ÿå‹åœ¨ä¸‡äººæ¼”å”±ä¼šä¸Šå…¨å¼€éº¦ä¸¥é‡è·‘è°ƒï¼Œéº¦å…‹é£é©¬ä¸Šå°±è¦é€’ç»™ä½ äº†ï¼Œä½ ä¼šï¼Ÿ", options: [
            {t:"è¿‡åº¦ç´§å¼ è¢«å¸¦è·‘åï¼Œè‡ªå·±ä¹Ÿè·Ÿç€å”±åŠˆäº†", s:-5}, 
            {t:"å¤§å–Šç²‰ä¸åå­—æˆ–è€…åšå¤¸å¼ åŠ¨ä½œï¼Œè¯•å›¾å¸®é˜Ÿå‹è½¬ç§»æ³¨æ„åŠ›", s:-2}, 
            {t:"æŒ‰éƒ¨å°±ç­æå…¶ç²¾å‡†åœ°å”±å¥½è‡ªå·±çš„éƒ¨åˆ†ï¼Œäº’ä¸å¹²æ¶‰", s:2}, 
            {t:"å¤§å£°ä¸”æå…¶ç¨³åœ°é¡¶ä¸Šå»ï¼Œç›´æ¥ç”¨ç»å¯¹å®åŠ›æŠŠåœºå­å‹å›æ¥", s:5} 
        ]},
        { q: "7. ã€å…¬å…³æŠ‰æ‹©ã€‘ç½‘ä¸Šçªç„¶çˆ†å‡ºä½ æå…¶è’è°¬çš„ä¼ªé€ é»‘æ–™ï¼Œå…¬å¸é«˜å±‚è¦æ±‚ä½ ä¿æŒæ²‰é»˜å†·å¤„ç†ï¼Œä½ ä¼šï¼Ÿ", options: [
            {t:"è§‰å¾—å…¨ä¸–ç•Œéƒ½åœ¨é’ˆå¯¹è‡ªå·±ï¼Œç–¯ç‹‚åœ¨å°å·å†™ä¼¤æ„Ÿå°ä½œæ–‡", s:-5}, 
            {t:"å¿ä¸ä½åœ¨ç›´æ’­é‡Œç›´æ¥å‘ç²‰ä¸å‘èª“è§£é‡Šï¼Œå·®ç‚¹å“­å‡ºæ¥", s:-2}, 
            {t:"ç»å¯¹æœä»å…¬å¸å¤§å±€å®‰æ’ï¼Œå¬è¯åœ°æ¶ˆå¤±åŠä¸ªæœˆç­‰é£å¤´è¿‡å»", s:2}, 
            {t:"å€Ÿç€è¿™æ³¢å·¨å¤§çš„é»‘æµé‡ï¼Œé¡ºåŠ¿åœ¨ç¤¾äº¤å¹³å°æŠ›å‡ºä¸€ä¸ªç¥çº§ç›´æ‹å¸ç²‰", s:5} 
        ]},
        { q: "8. ã€ç™»é¡¶è¯±æƒ‘ã€‘ç»„åˆå¿«åˆ°ä¸ƒå¹´ä¹‹ç—’ï¼Œå…¬å¸ç§ä¸‹åªç»™ä½ ä¸€äººå¼€å‡ºå¤©ä»·æ¡ä»¶è®©ä½ å•é£ï¼Œä½†è¦æ±‚ä½ å¸¦å¤´æ’æŒ¤æŸé˜Ÿå‹ï¼Œä½ ä¼šï¼Ÿ", options: [
            {t:"è§‰å¾—è¿™æ˜¯èƒŒå›ï¼Œæœæ–­æ‹’ç»ï¼Œå®å¯ä¸èµšé’±ä¹Ÿè¦ä¿ä½å›¢é­‚", s:-5}, 
            {t:"æ‹¿è¿™ä»½åˆåŒå»å’Œé˜Ÿå‹é€åº•ï¼Œè”åˆå¤§å®¶ä¸€èµ·å»è·Ÿå…¬å¸è°ˆåˆ¤", s:-2}, 
            {t:"ç¤¼è²Œæ‹’ç»æ’æŒ¤é˜Ÿå‹çš„è¦æ±‚ï¼Œä½†ä¾ç„¶ä¼šé€‰æ‹©å•é£è°‹æ±‚ä¸ªäººå‘å±•", s:2}, 
            {t:"æ¯«æ— å¿ƒç†è´Ÿæ‹…åœ°ç­¾äº†ï¼Œååˆ©åœºæœ¬å°±æ˜¯ä¸€åœºä½ æ­»æˆ‘æ´»çš„ç”Ÿæ„", s:5} 
        ]},
        { q: "9. ã€é˜²å¾¡é¢å…·ã€‘åœ¨è¿™ä¸ªäººå‡æˆ´ç€å‡é¢è¥ä¸šçš„åœˆå­é‡Œï¼Œä½ è§‰å¾—ä½ æˆ´å¾—æœ€ç‰¢çš„â€˜äººè®¾é¢å…·â€™æ˜¯ä»€ä¹ˆï¼Ÿ", options: [
            {t:"æ°¸è¿œå–„è§£äººæ„ã€ä¸äº‰ä¸æŠ¢çš„å›¢é˜Ÿéšå½¢è¡€åŒ…", s:-5}, 
            {t:"æƒ…ç»ªå…¨å†™åœ¨è„¸ä¸Šã€å’‹å’‹å‘¼å‘¼çš„ç›´çƒç¬¨è›‹ç¾äºº", s:-2}, 
            {t:"ç”Ÿäººå‹¿è¿‘ã€ä¸šåŠ¡æ»¡åˆ†ä½†ç¼ºä¹äººæƒ…å‘³çš„æ¸…å†·å­¤ç‹¼", s:2}, 
            {t:"å…«é¢ç²ç‘ã€æ°¸è¿œæ»´æ°´ä¸æ¼çš„å®Œç¾é‡å¿ƒå®¶", s:5} 
        ]},
        { q: "10. ã€ç»ˆå±€è½å¹•ã€‘å¦‚æœä½ çš„å¶åƒç”Ÿæ¶¯ç»ˆå°†è½å¹•ï¼Œä½ å¸Œæœ›åäººæèµ·ä½ æ—¶ï¼Œç”¨å“ªå¥è¯è¯„ä»·ï¼Ÿ", options: [
            {t:"â€˜å¥¹æ˜¯å”¯ä¸€ä¸€ä¸ªï¼Œåœ¨è¿™ä¸ªæŸ“ç¼¸é‡ŒæŠŠçœŸå¿ƒæ¯«æ— ä¿ç•™äº¤ç»™ç²‰ä¸çš„äººã€‚â€™", s:-5}, 
            {t:"â€˜å¥¹åƒä¸€é˜µé£ï¼Œçƒ­çƒˆçœŸè¯šåœ°çˆ±è¿‡ï¼Œç„¶åæ½‡æ´’ç¦»åœºã€‚â€™", s:-2}, 
            {t:"â€˜å¥¹çš„ä¸šåŠ¡èƒ½åŠ›å’Œç›´æ‹ï¼Œæ˜¯è¿™ä¸ªæ—¶ä»£æ°¸è¿œæ— æ³•é€¾è¶Šçš„æ ‡æ†ã€‚â€™", s:2}, 
            {t:"â€˜å¥¹èµšå¤Ÿäº†ç­¹ç ï¼Œä»ä¸€ä¸ªä»»äººæ‘†å¸ƒçš„æ£‹å­å˜æˆäº†èµ„æœ¬å¤§ä½¬ã€‚â€™", s:5} 
        ]}
    ];

    // --- æåº¦ç–¯ç‹‚çš„æµ·é‡éšæœºæ ‡ç­¾åº“ (å®Œå…¨å‰”é™¤æ”¿æ²»æ•æ„Ÿå’Œäº‰è®®åœ°åŒºï¼Œä»…ä¿ç•™ä¸­å›½ç±) ---
    const db_random = {
        nat: ["ä¸­å›½ç±", "éŸ©å›½ç±", "æ—¥æœ¬ç±", "æ³°å›½ç±", "æ¾³æ´²ç±", "ç¾ç±åè£”", "åŠ æ‹¿å¤§ç±", "æ–°è¥¿å…°ç±", "ä¸­éŸ©æ··è¡€", "è‹±æ—¥æ··è¡€", "æ³•ç±", "ä¿„ç½—æ–¯ç±"],
        year: ["99å¹´ç”Ÿ", "00å¹´ç”Ÿ", "01å¹´ç”Ÿ", "02å¹´ç”Ÿ", "03å¹´ç”Ÿ", "04å¹´ç”Ÿ", "05å¹´ç”Ÿ", "06å¹´ç”Ÿ", "07å¹´ç”Ÿ (å¿™å†…çº¿)", "08å¹´ç”Ÿ (æé™å¿™å†…)"],
        com: ["ä¸‰å¤§ç¤¾å‡ºèº«(S/Y/J)", "HYBEç³»å‚ç‰Œ", "æ˜Ÿèˆ¹(Starship)", "ä¹åå¨±ä¹", "ä¸çŸ¥ååœ°ä¸‹å°ä½œåŠ", "è‡ªå¸¦èµ„é‡‘å¯Œå©†å·¥ä½œå®¤", "CUBEå¨±ä¹", "KQå¨±ä¹", "Pledis"],
        size: ["3äººç²¾è‹±å›¢", "4äººç¥é¢œå›¢", "5äººæ¦‚å¿µå›¢", "7äººå¤§å‹å›¢", "9äººåˆ€ç¾¤èˆå›¢", "11äººè¶…å¤§å‹å›¢", "2äººåŒå­æ˜Ÿç»„åˆ"],
        pop: ["æ–­å±‚å¤§Top", "å¤©æœç‹¬çº¢Top", "æ³¡èœå›½æ°‘Top", "æ¬§ç¾ç‰¹ä¾›Top", "æ¨±èŠ±åŒºTop", "ä¸œå—äºšåœ°å¤´è›‡Top", "ç¨³å®šMid(ä¸­ä½åœˆ)", "é•¶è¾¹å°é€æ˜", "é»‘çº¢äº‰è®®Top", "æ°‘é€‰ç›´æ‹ç¥çº§Top"],
        skill: ["è¶…å¼ºå¤šå›½è¯­è¨€å¤©èµ‹", "ç»å‘½å£°å¸¦æ¨¡ä»¿", "ç¥çº§ç”»ç”»å¤©æ‰", "ç‹‚åƒä¸èƒ–åƒæ’­ç¥ä»™", "å¾’æ‰‹åŠˆè¥¿ç“œ", "éšæ—¶éšåœ°ä¸€ç§’ç¡ç€", "å››æ¬¡å…ƒè‚¢ä½“æç¬‘", "è¶…é«˜æ™ºå•†è„‘æ€§å¥³", "å¾’æ‰‹æŠ“è™«å­ç‹ äºº", "ä¸€ç§’è½æ³ªç¥æŠ€"],
        debut: ["ç©ºé™1ä¸ªæœˆ", "åŠå¹´", "1å¹´", "4å¹´", "7å¹´(å…¬å¸æ´»åŒ–çŸ³)", "æ·˜æ±°å¤æ´»", "é€€é˜Ÿæ›¿è¡¥"],
        story: ["åœ¨è¡—è¾¹åƒè·¯è¾¹æ‘Šè¢«æ˜Ÿæ¢å¡åç‰‡", "é™ªé—ºèœœå»é¢è¯•ç»“æœè‡ªå·±è¢«é€‰ä¸Š", "èˆè¹ˆå¤§èµ›å† å†›è¢«ç‰¹æ‹›", "ä¸Šä¼ ç¿»å”±è§†é¢‘æ„å¤–çˆ†çº¢", "ç–¯ç‹‚å‚åŠ äº†30æ¬¡é€‰ç§€ç»ˆäºä¸Šå²¸", "è¢«å¯Œè±ªçˆ¶æ¯ç ¸é’±é€è¿›å…¬å¸"],
        animal: ["ğŸ¦Š ç‹ç‹¸å¡‘", "ğŸ° å…”å­ç³»", "ğŸº å­¤ç‹¼å¡‘", "ğŸ¥Ÿ ä»“é¼ ç³»", "ğŸ¶ è¨æ‘©è€¶å¡‘", "ğŸ è›‡ç³»ç¾äºº", "ğŸ± çŒ«çŒ«å¡‘", "ğŸ» å°ç†Šå¡‘", "ğŸ¦Œ é¹¿ç³»ç¾äºº", "ğŸ§ ä¼é¹…å¡‘", "ğŸ¦‹ è´è¶å¡‘"],
        sidegig: ["è½¬å‹åƒä¸‡ç¥¨æˆ¿æ¼”å‘˜", "æ‰“æ­ŒèŠ‚ç›®ç¥çº§MC", "æ‹¥æœ‰åƒä¸‡ç²‰ä¸ªäººæ²¹ç®¡", "å¤©æ‰ä½œè¯ä½œæ›²å®¶", "é«˜å¥¢è“è¡€å“ç‰Œå…¨çƒä»£è¨€", "çˆ†æ¬¾ç»¼è‰ºå¸¸é©»MC", "å…¨ç½‘å¸¦è´§ç¬¬ä¸€äºº", "å‰¯ä¸šæ½®ç‰Œä¸»ç†äºº", "ç”µå°åˆå¤œDJ", "éŸ³ä¹å‰§å¤§å¥³ä¸»"],
        mbti: ["è¥ä¸šå‹ç¤¾ç‰› Eäºº", "å†…è€—å‹ç¤¾æ Iäºº", "é“è¡€æ— æƒ… Täºº", "æåº¦å…±æƒ… Fäºº", "å®Œç¾æŒæ§ Jäºº", "éšæ€§æ´’è„± Päºº"],
        fandom: ["äº‹ä¸šæ‰¹ç²‰å æ¯”90%", "å”¯ç²‰æˆ˜æ–—åŠ›å…¨å›¢ç¬¬ä¸€", "å¦ˆç²‰äººæ‰‹ä¸€å¥—å¤§åˆ«å¢…", "æ³¥å¡‘ç²‰å¤©å¤©å‘ç–¯", "CPç²‰åœˆåœ°è‡ªèŒ", "æ•£ç²‰é¢œç²‰æ»¡å¤©ä¸‹", "è·¯äººç›˜æå…¶åºå¤§"],
        habit: ["èˆå°ç–¯ç‹‚Wink", "ä¸‹æ„è¯†å’¬å˜´å”‡", "ç´§å¼ æ—¶æŠ æ‰‹æŒ‡", "å–œæ¬¢å‘å‘†æ”¾ç©º", "é•œå¤´å‰å‡ç¬‘æœºå™¨", "éšæ—¶éšåœ°éƒ½åœ¨åƒ"]
    };

    // --- æ™ºèƒ½ç”Ÿæˆâ€œå¤åˆå‹é˜Ÿå†…å®šä½â€çš„é»‘ç§‘æŠ€å‡½æ•° ---
    function getComboPosition() {
        const pool1 = ["å¤§ä¸»å”±", "é¢†å”±", "ç¨³å¥å‰¯å”±"];
        const pool2 = ["ä¸»èˆ", "é¢†èˆ", "å‰¯èˆ"];
        const pool3 = ["ä¸»Rapper", "é¢†Rapper", "å‰¯Rapper"];
        const pool4 = ["å®˜æ–¹é—¨é¢", "ç»å¯¹Cä½", "å®æƒé˜Ÿé•¿", "å›¢å® å¿™å†…", "é‡‘ç‰Œåˆ¶ä½œäºº", "ç»¼è‰ºæ‹…å½“"];
        
        let p1 = Math.random() > 0.3 ? getRandom(pool1) : "";
        let p2 = Math.random() > 0.3 ? getRandom(pool2) : "";
        let p3 = Math.random() > 0.6 ? getRandom(pool3) : ""; 
        let p4 = Math.random() > 0.2 ? getRandom(pool4) : "";

        let selected = [p1, p2, p3, p4].filter(x => x !== "");
        if(selected.length < 2) selected.push(getRandom(["é—¨é¢", "é¢†èˆ", "ACE"])); // è‡³å°‘ä¿åº•2ä¸ªæ ‡ç­¾
        
        selected.sort(() => 0.5 - Math.random());
        return selected.slice(0, 3).join(" Â· ");
    }

    // --- 10å¤§æå…·é€¼æ ¼çš„åŸåˆ›æ¦‚å¿µç»“æœåº“ ---
    const results = [
        {
            min: 42, 
            name: "ã€Girl Crush Â· ç°è±¡çº§ç»Ÿæ²»å›¢ã€‘", 
            tag: "å¸å›½ç§©åºåˆ¶å®šè€…",
            viral: "é¢å¥–ç¤¼å†·è„¸æ§åœºï¼Œä¸€ä¸ªçœ¼ç¥è®©å…¨åœºé¸¦é›€æ— å£°ï¼Œç¥çº§å¤§å¥³ä¸»æ°”åœºå°ç¥ï¼",
            stats: [98, 92, 99, 85, 99],
            core: "ä½ æ˜¯ååˆ©åœºä¸Šæåº¦ç½•è§çš„â€˜é“è¡€ç ´å±€è€…â€™ã€‚æé«˜çš„ç›®æ ‡å¯¼å‘è®©ä½ è‡ªå¸¦ä¸Šä½è€…çš„å‹è¿«æ„Ÿï¼Œä½ ä¸å…è®¸è‡ªå·±å‡ºé”™ï¼Œæ›´ä¸å…è®¸åˆ«äººé˜»æŒ¡ä½ çš„è·¯ã€‚ä½ ä»ä¸æ²‰æººäºæƒ…ç»ªå†…è€—ï¼Œå› ä¸ºä½ åšä¿¡çœ¼æ³ªæ¢ä¸æ¥é•œå¤´ï¼Œåªæœ‰å®åŠ›å’Œç®—è®¡å¯ä»¥ã€‚ä½ æœ€å¯æ€•çš„åœ°æ–¹åœ¨äºä½ æåº¦æ¸…é†’çš„å¤§è„‘ï¼Œéšæ—¶èƒ½å°†é€†é£å±€æ“ç›˜æˆä½ çš„ä¸ªäººç§€ã€‚",
            love: "åœ¨é•œå¤´å‰ï¼Œä½ æ²¡æœ‰ä¸€ä¸è®¨å¥½å’Œåªšç²‰çš„è½¯å¼±æ„Ÿã€‚ä½ é‚£ç§â€˜è€å¨˜åªç®¡èµ¢â€™çš„ç‹‚å‚²æ°”åœºï¼Œä¼šæ­»æ­»å¸ä½ä¸€æ‰¹æå…¶æ­»å¿ çš„æ…•å¼ºç²‰å’Œäº‹ä¸šç²‰ã€‚ç²‰ä¸çœ‹ç€ä½ ï¼Œå°±åƒåœ¨çœ‹ä¸€éƒ¨çˆ½æ–‡å¤§å¥³ä¸»çš„æ€æˆ®å²ï¼Œä½ çš„å­˜åœ¨å°±æ˜¯ä»–ä»¬å¯¹æŠ—å¹³åº¸ç”Ÿæ´»çš„ç»å¯¹åº•æ°”ã€‚ä½ ä¸ç¼ºæµé‡ï¼Œä½ åªç¼ºå¯¹æ‰‹ã€‚"
        },
        {
            min: 32, 
            name: "ã€è´¢é˜€åƒé‡‘é£ Â· é«˜æ¦‚å¿µç¥é¢œå›¢ã€‘", 
            tag: "é«˜æ®µä½å®Œç¾ä¼ªè£…è€…",
            viral: "é¢å¯¹é»‘è¯„çš„é«˜æƒ…å•†æ¸©æŸ”åæ€ï¼Œä¸€æˆ˜æˆåè¢«è¯„ä¸ºâ€˜å¤©ç”Ÿå¶åƒâ€™ï¼",
            stats: [82, 98, 88, 99, 85],
            core: "ä½ æ˜¯æ¸¸èµ°åœ¨åˆ€å°–ä¸Šçš„â€˜å®Œç¾ç¤¾äº¤åˆºå®¢â€™ã€‚ä½ æ‹¥æœ‰æé«˜çš„åŒå•†å’Œæƒ…ç»ªæ„ŸçŸ¥åŠ›ï¼Œæ‡‚å¾—åœ¨ä»»ä½•åœºåˆç»™å‡ºæœ€æ— æ‡ˆå¯å‡»çš„ååº”ã€‚ä½ æ·±è°™åœˆå†…çš„ç”Ÿå­˜æ³•åˆ™ï¼Œä»ä¸ç¡¬ç¢°ç¡¬ï¼Œå´èƒ½ç”¨æ˜¥é£åŒ–é›¨çš„ç¤¾äº¤æ‰‹è…•å’Œæå…¶è¿·äººçš„ä¼ªè£…ï¼Œå°†æœ€æ ¸å¿ƒçš„èµ„æºæ”¶å…¥å›Šä¸­ã€‚ä½ æ˜¯ä¸€æ¯æå…¶èªæ˜ã€çœ‹èµ·æ¥æ— å®³ä½†éšæ—¶èƒ½è®©äººä¸Šç˜¾çš„æ¯’è¯ã€‚",
            love: "ä½ æ˜¯å¤©ç”Ÿçš„â€˜é¥­åœˆæ•æ‰‹â€™ã€‚ä½ æ¸©æŸ”ã€å¾—ä½“ã€æ‡‚å¾—æä¾›æ»¡åˆ†çš„æƒ…ç»ªä»·å€¼ï¼Œè¿™è®©ä½ ä¸ä»…æ‹¥æœ‰åºå¤§çš„æ­»å¿ ç›˜ï¼Œè¿˜é€šåƒæ‰€æœ‰è·¯äººç²‰ã€‚ä½ æœ€æ“…é•¿åœ¨é•œå¤´å‰åˆ¶é€ â€˜è‹¥å³è‹¥ç¦»çš„è¥ä¸šæ„Ÿâ€™ï¼Œè®©ç²‰ä¸ä¸ºä½ ç–¯ç‹‚æ°ªé‡‘å´æ°¸è¿œæ‘¸ä¸é€ä½ çš„çœŸå¿ƒï¼Œä½ æ˜¯çœŸæ­£çš„èŠ³å¿ƒçºµç«çŠ¯ã€‚"
        },
        {
            min: 22, 
            name: "ã€æš—é»‘åºŸåœŸé£ Â· é€†è·Œç¥è¯å›¢ã€‘", 
            tag: "æ—§ç§©åºç‹‚çƒ­ç ´åè€…",
            viral: "å…¨ç½‘é»‘æ—¶æœŸå†™äº†ä¸€é¦–Dissæ›²åœ¨æ¼”å”±ä¼šé¦–å”±ï¼Œç›´æ¥åˆ›æ­»æ‰€æœ‰é»‘ç²‰ï¼",
            stats: [95, 75, 90, 45, 88],
            core: "ä½ æ˜¯ä¸€ä¸ªç»ä¸å¦¥åçš„â€˜ç‹‚æ°”å­¤ç‹¼â€™ã€‚åœ¨è¿™ä¸ªå……æ»¡æµæ°´çº¿åŒ…è£…çš„åœˆå­é‡Œï¼Œä½ è‡ªå¸¦ä¸€ç§ä¸è¢«è§„è®­çš„é‡æ€§ã€‚ä½ å¯¹è™šä¼ªçš„ç¤¾äº¤è¾ä»¤ä¸å±‘ä¸€é¡¾ï¼Œä½ åªç›¸ä¿¡è‡ªå·±çš„æ‰åå’Œç¡¬å®åŠ›ã€‚ä½ æ€§æ ¼é‡Œçš„æ”»å‡»æ€§æå¼ºï¼Œä¸éšæ³¢é€æµï¼Œä¸æ›²æ„é€¢è¿ï¼Œä½ æ˜¯æ—§ç§©åºçš„ç ´åè€…ï¼Œä¹Ÿæ˜¯èˆå°ä¸Šç‡ƒçƒ§åˆ°æè‡´çš„ç–¯å­ã€‚",
            love: "è¿™ç§â€˜æˆ‘ä¸careä»»ä½•è§„çŸ©â€™çš„æ¾å¼›æ„Ÿå’Œæå…·å†²å‡»åŠ›çš„ä¸šåŠ¡èƒ½åŠ›ï¼Œæ˜¯å½“ä¸‹æœ€ç¨€ç¼ºçš„å¸ç²‰åˆ©å™¨ã€‚ä½ ä¸ä»…å¸å¼•èˆå°ç²‰ï¼Œæ›´æ˜¯åœˆç²‰æ— æ•°â€˜å¥³å‹ç²‰â€™ã€‚ç²‰ä¸çˆ±ä½ èº«ä¸Šçš„æ¡€éªœä¸é©¯ï¼Œçˆ±ä½ å³ä½¿èº«å¤„æ³¥æ½­ä¹Ÿæ•¢å¯¹ä¸–ç•Œç«–ä¸­æŒ‡çš„é«˜å‚²çµé­‚ã€‚"
        },
        {
            min: 12, 
            name: "ã€æ¸…å†·ä»™æ°”é£ Â· å®åŠ›å¤§é­”ç‹å›¢ã€‘", 
            tag: "ç»å¯¹ç»“ç•Œé«˜å²­ä¹‹èŠ±",
            viral: "éŸ³å“æ•…éšœæ—¶ç›²å”±å…¨æ›²ä¸æ¯«ä¸å·®ï¼Œâ€˜æ²¡æœ‰æ„Ÿæƒ…çš„å”±æ­Œæœºå™¨â€™ç«å‡ºåœˆï¼",
            stats: [95, 60, 85, 55, 65],
            core: "ä½ æ˜¯å›¢é˜Ÿé‡Œçš„â€˜ç»å¯¹ç†æ€§å®šæµ·ç¥é’ˆâ€™ã€‚å¤–è¡¨æ¸…å†·ã€å…‹åˆ¶ï¼Œéª¨å­é‡Œé€ç€ä¸€è‚¡å¯¹ä¸“ä¸šçš„æè‡´è¿½æ±‚ã€‚ä½ ä¸éœ€è¦è™šä¼ªçš„ç¹åå’Œæ— æ„ä¹‰çš„ç¤¾äº¤ï¼Œä½ åªç”¨ä½œå“å’Œå®åŠ›è¯´è¯ã€‚ä½ åƒä¸€å°ç²¾å¯†è¿è½¬çš„ä»ªå™¨ï¼Œä»»ä½•è¯•å›¾ç”¨æƒ…ç»ªç»‘æ¶ä½ çš„æ‰‹æ®µï¼Œéƒ½ä¼šè¢«ä½ å†°å†·çš„ç»“ç•Œå¼¹å¼€ã€‚",
            love: "ä½ ä¸åªšç²‰ã€ä¸è¥ä¸šï¼Œå´ååé ç€è¿™è‚¡â€˜é«˜å²­ä¹‹èŠ±â€™çš„æ™ºæ€§ç¾å¸å¼•äº†ä¸€æ‰¹æé«˜ç²˜æ€§çš„ç²‰ä¸ã€‚ç²‰ä¸è¿·æ‹ä½ çš„ç–ç¦»æ„Ÿï¼Œäº«å—è¿™ç§â€˜åªå¯è¿œè§‚ä¸å¯äºµç©â€™çš„å®¡ç¾è·ç¦»ã€‚ä½ çš„å­˜åœ¨ï¼Œæ‹”é«˜äº†æ•´ä¸ªå›¢é˜Ÿçš„è´¨æ„Ÿå’Œå£ç¢‘ä¸‹é™ã€‚"
        },
        {
            min: 2, 
            name: "ã€Y2K åƒç¦§é£ Â· å¤æ—¥éœ¸æ¦œç°è±¡å›¢ã€‘", 
            tag: "ç›´çƒå¤©ç”Ÿå‘å…‰ä½“",
            viral: "çº¢æ¯¯ä¸Šçš„ä¸€ä¸ªæå…¶å‚²å¨‡çš„ç¥çº§å†·ç¬‘ï¼Œè¢«å…¨ç½‘åšæˆæ‹½å§å‡ºåœˆåŠ¨å›¾ï¼",
            stats: [80, 85, 70, 75, 60],
            core: "ä½ æ˜¯æå…·ç”Ÿå‘½åŠ›ä¸æ„Ÿå®˜å†²å‡»åŠ›çš„â€˜ç››å¤å‘å…‰ä½“â€™ã€‚åœ¨è¿™ä¸ªäººå‡éšè—æƒ…ç»ªçš„å‹æŠ‘åœˆå­ï¼Œä½ æ²¡æœ‰é‚£ä¹ˆå¤šå¼¯å¼¯ç»•ç»•ï¼Œæƒ…ç»ªæ°¸è¿œæ˜¯é²œæ´»ä¸”å¤–æ”¾çš„ã€‚ä½ æ˜¯ç»å¯¹çš„è¡ŒåŠ¨æ´¾ï¼Œå–œæ¬¢å°±å»äº‰å–ï¼Œä¸çˆ½å°±ç›´æ¥æŒ‚åœ¨è„¸ä¸Šã€‚ä½ é‚£ç§â€˜è€å¨˜ç”Ÿæ¥å°±æ˜¯ä¸»è§’â€™çš„è¿·ä¹‹è‡ªä¿¡ï¼Œæå…·æ„ŸæŸ“åŠ›ã€‚",
            love: "è™½ç„¶ä¸šåŠ¡å¯èƒ½ä¸æ˜¯æœ€é¡¶å°–ï¼Œä½†ä½ æ˜¯å¤©ç”Ÿçš„å¤§ä¼—ç„¦ç‚¹ã€‚ä½ æ¯«æ— åŒ…è¢±çš„å¦è¡å’Œæµ‘ç„¶å¤©æˆçš„ç»¼è‰ºæ„Ÿï¼Œè®©ä½ æ–©è·äº†æµ·é‡çš„è·¯äººç›˜ã€‚ç²‰ä¸çœ‹ç€ä½ ï¼Œå°±åƒåœ¨çœ‹ä¸€ä¸ªæ°¸è¿œå……æ»¡æ´»åŠ›ã€æ•¢çˆ±æ•¢æ¨çš„å°å¤ªé˜³ï¼Œå……æ»¡äº†ä¸å¯é¢„æµ‹çš„æƒŠå–œå’Œå…»æˆæ„Ÿã€‚"
        },
        {
            min: -8, 
            name: "ã€æ‹¼æ¥å®éªŒé£ Â· æ¦‚å¿µæµæµªè€…ç»„åˆã€‘", 
            tag: "å››æ¬¡å…ƒè‡ªç”±çµé­‚",
            viral: "æ¼”å”±ä¼šä¸Šæå…¶éšæ€§çš„ä¸€æ¬¡è¸¢é‹å…‰è„šè·³èˆï¼Œè¢«å°ä¸ºâ€˜è‡ªç”±çµé­‚â€™ï¼",
            stats: [75, 70, 65, 60, 40],
            core: "ä½ æ˜¯ä¸€åŒ¹ä¸éœ€è¦è¢«é©¯æœçš„é‡é©¬ï¼Œåº•è‰²æ˜¯â€˜éšé‡è€Œå®‰çš„æµæµªè€…â€™ã€‚é¢å¯¹ååˆ©åœºçš„å®æ€ï¼Œä½ æ˜¾å¾—æå…¶ä½›ç³»å’Œæ ¼æ ¼ä¸å…¥ã€‚ä½ ä¸æŒ‰ä¸–ä¿—çš„å¥—è·¯å‡ºç‰Œï¼Œåˆ«äººåœ¨ä¹çš„ C ä½ã€èµ„æºã€äº‰å† ï¼Œåœ¨ä½ çœ¼é‡Œéƒ½ä¸å¦‚ä»Šå¤©çš„å¿ƒæƒ…é‡è¦ã€‚ä½ åªéµä»è‡ªå·±å†…å¿ƒçš„ç§©åºï¼Œç»ä¸å‹‰å¼ºè‡ªå·±å»è¿åˆã€‚",
            love: "è¿™ç§ä¸ä¸–æ— äº‰çš„æ¾å¼›æ„Ÿï¼Œåœ¨å†…å·åˆ°æè‡´çš„éŸ©å¨±åœˆç®€ç›´æ˜¯ä¸€è‚¡æ¸…æµã€‚ä½ å¸å¼•äº†ä¸€æ‰¹åŒæ ·è®¨åŒä¸–ä¿—è§„è®­çš„ç²‰ä¸ï¼Œä»–ä»¬ä¸éœ€è¦ä½ é£å¾—å¤šé«˜ï¼Œåªå¸Œæœ›ä½ åœ¨è¿™ä¸ªå¤æ‚çš„åœˆå­é‡Œä¾ç„¶èƒ½è‡ªç”±åœ°åšè‡ªå·±ï¼Œä½ çš„ç²‰åœˆæå…¶å’Œå¹³ä¸”å¿«ä¹ã€‚"
        },
        {
            min: -18, 
            name: "ã€High Teen ç¾å¼æ ¡å›­é£ Â· æ²»æ„ˆå›¢ã€‘", 
            tag: "æ— æ­»è§’å…ƒæ°”å°å¤ªé˜³",
            viral: "ç»¼è‰ºä¸Šæ¯«æ— å½¢è±¡çš„ç´ é¢œåƒæ’­å¤§ç¬‘ï¼Œæˆäº†å…¨ç½‘æ‰“å·¥äººçš„ä¸‹é¥­ç¥æ›²ï¼",
            stats: [70, 80, 75, 85, 30],
            core: "ä½ æ˜¯å›¢é˜Ÿé‡Œæ²¡æœ‰æ”»å‡»æ€§çš„â€˜çº¯ç™½æ²»æ„ˆå‰‚â€™ã€‚ä½ çš„åº•è‰²æ˜¯åšé“ã€å–„è‰¯ä¸åŒ…å®¹ã€‚ä½ ä¸å–„äºæŠ¢é•œå¤´ï¼Œä¹Ÿä¸æ‡‚é’»è¥ç®—è®¡ï¼Œä½ æ‰€æœ‰çš„åŠªåŠ›éƒ½ç”¨æ¥ç»´æŠ¤å›¢é˜Ÿçš„å’Œè°ã€‚åªè¦é˜Ÿå‹éœ€è¦ï¼Œä½ æ°¸è¿œæ˜¯ç¬¬ä¸€ä¸ªå†²ä¸Šå»æä¾›æƒ…ç»ªä»·å€¼çš„äººã€‚ä½ æ²¡æœ‰å¤§èµ·å¤§è½çš„é”‹èŠ’ï¼Œå´æœ‰è®©äººé•¿ä¹…å®‰å¿ƒçš„é­”åŠ›ã€‚",
            love: "ä½ æ¸©æš–ã€çœŸå®çš„é‚»å®¶ç‰¹è´¨ï¼Œä¸ºä½ ç§¯ç´¯äº†å…¨å›¢æœ€æ¸©å’Œã€æœ€é•¿æƒ…çš„ç²‰ä¸ç¾¤ä½“ã€‚ç²‰ä¸ä¸ä¼šè¦æ±‚ä½ æ¯æ¬¡éƒ½æ‹¿ç¬¬ä¸€ï¼Œä»–ä»¬å¿ƒç–¼ä½ çš„ä»˜å‡ºï¼ŒæŠŠä½ å½“æˆç–²æƒ«ç”Ÿæ´»é‡Œçš„ä¸€ä¸ªç²¾ç¥å¯„æ‰˜ï¼Œæ˜¯ç»å¯¹ä¸ä¼šåœ¨ä½ ä½è°·æœŸè·‘è·¯çš„å­˜åœ¨ã€‚"
        },
        {
            min: -28, 
            name: "ã€å¤å…¸ä¼˜é›…é£ Â· å…»æˆç³»å®ˆæœ›è€…ç»„åˆã€‘", 
            tag: "å²æœˆé™å¥½å…œåº•åŸºçŸ³",
            viral: "åœ¨æ‹¥æŒ¤æœºåœºæ­»æ­»å°†é˜Ÿå‹æŠ¤åœ¨æ€€é‡Œï¼Œâ€˜ç»ä¸–å¥½å§å§â€™äººè®¾ç¬é—´çˆ†å‘ï¼",
            stats: [75, 95, 60, 70, 20],
            core: "ä½ æ˜¯æµ®èºåœˆå­é‡Œæå…¶ç¨€ç¼ºçš„â€˜æ‚²æ‚¯å®ˆæœ›è€…â€™ã€‚ä½ æ€»æ˜¯ä¹ æƒ¯æ€§åœ°ç«™åœ¨æ‰€æœ‰äººèº«åï¼ŒæŠŠé«˜å…‰æ—¶åˆ»è®©ç»™é˜Ÿå‹ï¼Œè‡ªå·±é»˜é»˜æ‰¿æ‹…é‚£äº›æ— äººå…³æ³¨çš„è„æ´»ç´¯æ´»ã€‚ä½ æœ‰æå¼ºçš„è´£ä»»æ„Ÿå’Œç‰ºç‰²ç²¾ç¥ï¼Œå“ªæ€•è‡ªå·±å—å§”å±ˆï¼Œä¹Ÿè§ä¸å¾—èº«è¾¹çš„äººå—è‹¦ã€‚ä½ æ˜¯å›¢é˜ŸçœŸæ­£çš„ç²¾ç¥é»åˆå‰‚ã€‚",
            love: "ä½ ä¸äº‰ä¸æŠ¢çš„å²æœˆé™å¥½å’Œé»˜é»˜éšå¿ï¼Œè™å‡ºäº†æå…¶åºå¤§ä¸”æ­»å¿ çš„â€˜å¦ˆç²‰â€™ç¾¤ä½“ã€‚ç²‰ä¸å¯¹ä½ çš„çˆ±å……æ»¡äº†å¿ƒç–¼ä¸ä¸ç”˜ï¼Œä»–ä»¬æ„¿æ„ä¸ºäº†ä½ æ‰‹æ’•å…¬å¸ã€å†²é”‹é™·é˜µï¼Œåªä¸ºäº†è®©ä½ åœ¨è¿™ä¸ªåƒäººçš„åœˆå­é‡Œèƒ½å¾—åˆ°ä¸€ä¸å…¬å¹³ã€‚"
        },
        {
            min: -38, 
            name: "ã€åˆæ‹æ¸…çº¯é£ Â· æè‡´å”¯ç¾è™æ‹å›¢ã€‘", 
            tag: "ç»ç¾é«˜æ•æ˜“ç¢å“",
            viral: "æ‰“æ­Œèˆå°ä¸Šé¥±å«çƒ­æ³ªçš„ç¥çº§é«˜éŸ³ç›´æ‹ï¼Œè™ç²‰æ— æ•°ï¼Œä¸€å¤œå°ç¥ï¼",
            stats: [88, 99, 30, 40, 10],
            core: "ä½ æ˜¯é«˜æ•æ„Ÿçš„è‰ºæœ¯çµé­‚â€˜å¹»å¤œç‰ç’ƒæ¢¦â€™ã€‚ä½ ä¸å–œæ¬¢äº‰æŠ¢ï¼Œç”šè‡³åœ¨å¤æ‚çš„ç¤¾äº¤å±€é‡Œä¼šæœ¬èƒ½åœ°æƒ³é€ƒé¿ã€‚ä½†åªè¦ç»™ä½ ä¸€ä¸ªéº¦å…‹é£ï¼Œä½ æå…¶ææ€–çš„å…±æƒ…èƒ½åŠ›å’Œç ´ç¢æ„Ÿå°±èƒ½æ„ŸæŸ“å…¨åœºã€‚ä½ ä»¿ä½›æ˜¯ä¸ºäº†èˆå°ç‡ƒçƒ§ç”Ÿå‘½ï¼Œä½†ä¸€æ—¦ä¸‹äº†å°ï¼Œä½ å¯¹ç°å®ä¸–ç•Œçš„æ¶æ„æ¯«æ— æ‹›æ¶ä¹‹åŠ›ã€‚",
            love: "ä½ èº«ä¸Šé‚£ç§â€˜ä»¿ä½›éšæ—¶ä¼šç¢æ‰â€™çš„è„†å¼±ç‰¹è´¨ï¼Œæå¤§åœ°æ¿€å‘äº†ç²‰ä¸çš„ä¿æŠ¤æ¬²ã€‚è¿™è®©ä½ æ‹¥æœ‰å…¨å›¢æˆ˜æ–—åŠ›æœ€å¼ºã€æœ€ç–¯æ‰¹çš„æ­»å¿ ç²‰ã€‚ç²‰ä¸è§†ä½ ä¸ºæ˜“ç¢çš„çå®ï¼Œæ„¿æ„ä¸ºä½ å± æ¦œåšæ•°æ®ï¼Œåªæ±‚ä½ èƒ½å¹³å®‰ç•™åœ¨è¿™ä¸ªèˆå°ä¸Šã€‚"
        },
        {
            min: -50, 
            name: "ã€ä¼¤ç—›æ–‡å­¦é£ Â· æ‚²å‰§ç¾å­¦é™å®šå›¢ã€‘", 
            tag: "æ‚²å‰§è‰²å½©çŒ®ç¥­è€…",
            viral: "å®£å¸ƒå› å¿ƒç†åŸå› æš‚åœæ´»åŠ¨å‰çš„æœ€åä¸€æ¬¡å«æ³ªé èº¬ï¼Œæˆä¸ºå…¨ç½‘æ„éš¾å¹³ï¼",
            stats: [80, 100, 10, 30, 0],
            core: "ä½ æ˜¯è¿™ä¸ªæ®‹é…·æ¸¸æˆé‡Œæœ€ä¸è¯¥å‡ºç°çš„â€˜çº¯ç™½çµé­‚â€™ã€‚ä½ ç”¨æœ€çœŸè¯šã€æœ€æ¯«æ— ä¿ç•™çš„å¿ƒå»å¯¹å¾…è¿™ä¸ªå……æ»¡è™šä¼ªçš„è¡Œä¸šï¼Œæ¢æ¥çš„å´æ˜¯éä½“é³ä¼¤ã€‚ä½ æ— æ³•ç†è§£ç®—è®¡ï¼Œæ— æ³•é€‚åº”æ¶å‰ªã€‚ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯å¯¹è¿™ä¸ªååˆ©åœºæœ€å¤§çš„åè®½ã€‚ä½ æåº¦çº¯ç²¹ï¼Œä¹Ÿæåº¦å®¹æ˜“è¢«æ‘§æ¯ã€‚",
            love: "ä½ æ˜¯å…¨ç½‘æœ€å¤§çš„â€˜æ„éš¾å¹³â€™ã€‚ä½ æ¯ä¸€æ¬¡çš„å§”å±ˆã€æ¯ä¸€æ¬¡çš„çœ¼æ³ªï¼Œéƒ½åœ¨ç–¯ç‹‚åœ°å›ºç²‰ã€‚ç²‰ä¸å¯¹ä½ çš„çˆ±å·²ç»è¶…è¶Šäº†è¿½æ˜Ÿï¼Œå˜æˆäº†ä¸€ç§å®—æ•™èˆ¬çš„ç‹‚çƒ­ä¿¡ä»°ã€‚ä»–ä»¬æ¨ä¸å¾—æŠŠä½ è—èµ·æ¥ï¼Œä¸è®©è¿™ä¸ªä¸–ç•Œå†ä¼¤å®³ä½ åˆ†æ¯«ã€‚"
        }
    ];

    let historyStack = [];
    let isNavigating = false;

    function getRandom(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
    }

    function startTest() {
        document.getElementById('p-home').classList.remove('active');
        document.getElementById('p-quiz').classList.add('active');
        renderQuestion(0);
    }

    function renderQuestion(idx) {
        document.getElementById('progress').style.width = ((idx)/questions.length)*100 + '%';
        const q = questions[idx];
        document.getElementById('q-text').innerText = q.q;
        
        const btnBack = document.getElementById('btn-back');
        if(idx > 0) {
            btnBack.classList.remove('hidden');
        } else {
            btnBack.classList.add('hidden');
        }

        const box = document.getElementById('options-box');
        box.innerHTML = '';
        box.style.pointerEvents = 'auto';

        q.options.forEach(opt => {
            const div = document.createElement('div');
            div.className = 'option';
            div.innerText = opt.t;
            div.onclick = function() { handleSelect(this, idx, opt.s); };
            box.appendChild(div);
        });
    }

    function handleSelect(el, idx, score) {
        if(isNavigating) return;
        isNavigating = true;
        el.classList.add('selected');
        document.getElementById('options-box').style.pointerEvents = 'none';
        
        historyStack.push({idx, score});

        setTimeout(() => {
            isNavigating = false;
            if(idx < questions.length - 1) {
                renderQuestion(idx+1);
            } else {
                showLoading();
            }
        }, 500); 
    }

    function goBack() {
        if(historyStack.length === 0 || isNavigating) return;
        historyStack.pop(); 
        renderQuestion(historyStack.length); 
    }

    function showLoading() {
        document.getElementById('p-quiz').classList.remove('active');
        document.getElementById('p-loading').classList.add('active');
        
        setTimeout(() => {
            showResult();
        }, 2500);
    }

    function showResult() {
        document.getElementById('p-loading').classList.remove('active');
        document.getElementById('p-result').classList.add('active');
        
        let totalScore = historyStack.reduce((a,b)=>a+b.score, 0);
        let res = results.find(r => totalScore >= r.min) || results[results.length-1];
        
        // --- æå–åŸºç¡€éšæœºä¿¡æ¯ ---
        let rndNat = getRandom(db_random.nat);
        let rndYear = getRandom(db_random.year);
        let rndTime = getRandom(db_random.debut);
        let rndStory = getRandom(db_random.story);

        document.getElementById('rnd-nat').innerText = rndNat;
        document.getElementById('rnd-year').innerText = rndYear;
        document.getElementById('rnd-time').innerText = rndTime;
        document.getElementById('rnd-story').innerText = rndStory;

        const reportId = "KPOP-" + Math.random().toString(36).substr(2, 6).toUpperCase();
        document.getElementById('report-id').innerText = "æ¡£æ¡ˆç¼–å·: " + reportId;

        document.getElementById('res-name').innerText = res.name;
        
        // --- æ¸²æŸ“æåº¦éœ‡æ’¼çš„å¤šç»´æ ‡ç­¾å¢™ (Tag Cloud) ---
        const tagCloud = document.getElementById('tag-cloud');
        tagCloud.innerHTML = `
            <span class="tag-badge t-core">ğŸ‘‘ ${res.tag}</span>
            <span class="tag-badge t-pos">ğŸ¤ ${getComboPosition()}</span>
            <span class="tag-badge t-ani">${getRandom(db_random.animal)}</span>
            <span class="tag-badge t-com">ğŸ¢ ${getRandom(db_random.com)}</span>
            <span class="tag-badge t-pop">ğŸ”¥ ${getRandom(db_random.pop)}</span>
            <span class="tag-badge">ğŸ‘¥ ${getRandom(db_random.size)}</span>
            <span class="tag-badge t-pos">âœ¨ ç»æŠ€ï¼š${getRandom(db_random.skill)}</span>
            <span class="tag-badge t-com">ğŸ¬ è·¨ç•Œï¼š${getRandom(db_random.sidegig)}</span>
            <span class="tag-badge pink">ğŸ’¡ æ€§æ ¼ï¼š${getRandom(db_random.mbti)}</span>
            <span class="tag-badge purple">âš ï¸ ç™–å¥½ï¼š${getRandom(db_random.habit)}</span>
            <span class="tag-badge t-fan">ğŸ›¡ï¸ ${getRandom(db_random.fandom)}</span>
        `;

        document.getElementById('res-viral').innerText = res.viral;
        document.getElementById('res-core').innerText = res.core;
        document.getElementById('res-love').innerText = res.love;

        // --- æ¸²æŸ“é›·è¾¾æ•°æ® ---
        const vizLabels = ["ç¡¬æ ¸ä¸šåŠ¡", "èˆ†è®ºæ“çºµ", "æŠ—å‹å®šåŠ›", "ç¤¾äº¤æ‰‹è…•", "å·…å³°é‡å¿ƒ"];
        let vizHTML = "";
        res.stats.forEach((val, i) => {
            // åŠ å…¥éšæœºæ³¢åŠ¨å€¼ï¼Œä½¿å¾—æ¯æ¬¡æµ‹å‡ºæ¥çš„é›·è¾¾å›¾éƒ½ä¸å®Œå…¨ä¸€æ ·
            let displayVal = Math.min(99, Math.max(10, val + Math.floor(Math.random()*8-4)));
            let color = "#00ffc8";
            if(displayVal > 85) color = "#ff007f"; 
            
            vizHTML += `
                <div class="viz-row">
                    <div class="viz-label">${vizLabels[i]}</div>
                    <div class="viz-track">
                        <div class="viz-bar" style="width:0%; background: linear-gradient(90deg, #1a0b2e, ${color});" data-w="${displayVal}%"></div>
                    </div>
                    <div class="viz-val" style="color:${color};">${displayVal}</div>
                </div>
            `;
        });
        document.getElementById('data-viz').innerHTML = vizHTML;

        setTimeout(() => {
            document.querySelectorAll('.viz-bar').forEach(bar => {
                bar.style.width = bar.getAttribute('data-w');
            });
        }, 100);
    }
</script>

</body>
</html>